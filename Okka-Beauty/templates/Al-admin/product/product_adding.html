{% extends 'Al-admin/base/base.html' %} {% load static %}{% block title %}my webpage{% endblock %} {% block body %} {% load static %}
{% get_media_prefix as MEDIA_PREFIX %}
<main class="main" id="top">
    <section class="py-0 mb-5">
    <div class="container-fluid px-0">
      <nav class="navbar navbar-vertical navbar-expand-lg">
        <script>
          var navbarStyle = window.config.config.phoenixNavbarStyle;
          if (navbarStyle && navbarStyle !== 'transparent') {
            document.querySelector('body').classList.add(`navbar-${navbarStyle}`);
          }
        </script>
        <div class="collapse navbar-collapse" id="navbarVerticalCollapse">
          <!-- scrollbar removed-->
          <div class="navbar-vertical-content">
            <ul class="navbar-nav flex-column" id="navbarVerticalNav">
            
              <li class="nav-item"><a class="nav-link " href="{% url 'Dashboard' %}" data-bs-toggle="" aria-expanded="false">
                <div class="d-flex align-items-center gap-2"><span data-feather="codesandbox"></span><span class="nav-link-text">Dashboard</span>
                </div>
              </a>
              <!-- more inner pages-->
            </li>

            <li class="nav-item">
            
              <div class="nav-item-wrapper">
                <a class="nav-link dropdown-indicator label-1" href="#Banner" role="button" data-bs-toggle="collapse" aria-expanded="true" aria-controls="Banner">
                  <div class="d-flex align-items-center">
                    <div class="dropdown-indicator-icon"><span class="fas fa-caret-right"></span></div><span class="nav-link-icon"><span data-feather="image"></span></span><span class="nav-link-text">Banner Management</span>
                  </div>
                </a>
                <div class="parent-wrapper label-1">
                  <ul class="nav collapse parent show" data-bs-parent="#navbarVerticalCollapse" id="Banner">
                    <li class="collapsed-nav-item-title d-none">Banner Management
                    </li>
                    


                {% if request.user.is_authenticated %} {% if perms.banners.view_mainbanner %}
                <li class="nav-item"><a class="nav-link " href="{% url 'Buy-Promo-Banner' %}" data-bs-toggle="" aria-expanded="false">
                  <div class="d-flex align-items-center"><span class="nav-link-text">Main Banner</span>
                  </div>
                </a>
                <!-- more inner pages-->
              </li>  
              {% else %} {% for group in request.user.groups.all %} {% if perms.group.view_mainbanner %}
              <li class="nav-item"><a class="nav-link " href="{% url 'Buy-Promo-Banner' %}" data-bs-toggle="" aria-expanded="false">
                <div class="d-flex align-items-center"><span class="nav-link-text">Main Banner</span>
                </div>
              </a>
              <!-- more inner pages-->
            </li>  
            {% endif %} {% endfor %} {% endif %} {% endif %}



                {% if request.user.is_authenticated %} {% if perms.banners.view_price_banner %} <li class="nav-item">
                  <a class="nav-link " href="{% url 'pricebanner' %}" data-bs-toggle="" aria-expanded="false">
                    <div class="d-flex align-items-center">
                      <span class="nav-link-text">pricebanner</span>
                    </div>
                  </a>
                  <!-- more inner pages-->
                </li> {% else %} {% for group in request.user.groups.all %} {% if perms.group.view_price_banner %} <li class="nav-item">
                  <a class="nav-link " href="{% url 'pricebanner' %}" data-bs-toggle="" aria-expanded="false">
                    <div class="d-flex align-items-center">
                      <span class="nav-link-text">pricebanner</span>
                    </div>
                  </a>
                  <!-- more inner pages-->
                </li> {% endif %} {% endfor %} {% endif %} {% endif %}
                   
                {% if request.user.is_authenticated %} {% if perms.banners.view_footerbanner %} <li class="nav-item">
                  <a class="nav-link " href="{% url 'footerbanner' %}" data-bs-toggle="" aria-expanded="false">
                    <div class="d-flex align-items-center">
                      <span class="nav-link-text">footerbanner</span>
                    </div>
                  </a>
                  <!-- more inner pages-->
                </li>
               {% else %} 
                {% for group in request.user.groups.all %} {% if perms.group.view_footerbanner %} <li class="nav-item">
                  <a class="nav-link " href="{% url 'footerbanner' %}" data-bs-toggle="" aria-expanded="false">
                    <div class="d-flex align-items-center">
                      <span class="nav-link-text">footerbanner</span>
                    </div>
                  </a>
                  <!-- more inner pages-->
                </li> {% endif %} {% endfor %} {% endif %} {% endif %}      
                  </ul>
                </div>
              </div>
            </li>

            <li class="nav-item">
            
              <div class="nav-item-wrapper">
                <a class="nav-link dropdown-indicator label-1" href="#customer" role="button" data-bs-toggle="collapse" aria-expanded="true" aria-controls="customer">
                  <div class="d-flex align-items-center">
                    <div class="dropdown-indicator-icon"><span class="fas fa-caret-right"></span></div><span class="nav-link-icon"><span data-feather="users"></span></span><span class="nav-link-text">Customer Management</span>
                  </div>
                </a>
                <div class="parent-wrapper label-1">
                  <ul class="nav collapse parent show" data-bs-parent="#navbarVerticalCollapse" id="customer">
                    <li class="collapsed-nav-item-title d-none">Customer Management
                    </li>
                    {% if request.user.is_authenticated %} {% if perms.user.view_user %} <li class="nav-item">
                      <a class="nav-link " href="{% url 'customer' %}" data-bs-toggle="" aria-expanded="false">
                        <div class="d-flex align-items-center">
                          <span class="nav-link-text">All Customer</span>
                        </div>
                      </a>
                      <!-- more inner pages-->
                    </li> {% else %} {% for group in request.user.groups.all %} {% if perms.group.view_user %} <li class="nav-item">
                      <a class="nav-link " href="{% url 'customer' %}" data-bs-toggle="" aria-expanded="false">
                        <div class="d-flex align-items-center">
                          <span class="nav-link-text">All Customer</span>
                        </div>
                      </a>
                      <!-- more inner pages-->
                    </li> {% endif %} {% endfor %} {% endif %} {% endif %}                  
                  </ul>
                </div>
              </div>
            </li>

            <li class="nav-item">
            
              <div class="nav-item-wrapper">
                <a class="nav-link dropdown-indicator label-1" href="#Product" role="button" data-bs-toggle="collapse" aria-expanded="true" aria-controls="Product">
                  <div class="d-flex align-items-center">
                    <div class="dropdown-indicator-icon"><span class="fas fa-caret-right"></span></div><span class="nav-link-icon"><span data-feather="shopping-cart"></span></span><span class="nav-link-text">Product Management</span>
                  </div>
                </a>
                <div class="parent-wrapper label-1">
                  <ul class="nav collapse parent show" data-bs-parent="#navbarVerticalCollapse" id="Product">
                    <li class="collapsed-nav-item-title d-none">Product Management
                    </li>
                    {% if request.user.is_authenticated %} {% if perms.products.view_products %} <li class="nav-item">
                      <a class="nav-link " href="{% url 'product-list' %}" data-bs-toggle="" aria-expanded="false">
                        <div class="d-flex align-items-center">
                          <span class="nav-link-text">All Products</span>
                        </div>
                      </a>
                      <!-- more inner pages-->
                    </li> {% else %} {% for group in request.user.groups.all %} {% if perms.group.view_products %} <li class="nav-item">
                      <a class="nav-link " href="{% url 'product-list' %}" data-bs-toggle="" aria-expanded="false">
                        <div class="d-flex align-items-center">
                          <span class="nav-link-text">All Products</span>
                        </div>
                      </a>
                      <!-- more inner pages-->
                    </li> {% endif %} {% endfor %} {% endif %} {% endif %}
                    {% if request.user.is_authenticated %} {% if perms.products.add_products %} <li class="nav-item">
                      <a class="nav-link active" href="{% url 'product-adding' %}" data-bs-toggle="" aria-expanded="false">
                        <div class="d-flex align-items-center">
                          <span class="nav-link-text">Add Product</span>
                        </div>
                      </a>
                      <!-- more inner pages-->
                    </li> {% else %} {% for group in request.user.groups.all %} {% if perms.group.add_products %} <li class="nav-item">
                      <a class="nav-link active" href="{% url 'product-adding' %}" data-bs-toggle="" aria-expanded="false">
                        <div class="d-flex align-items-center">
                          <span class="nav-link-text">Add Product</span>
                        </div>
                      </a>
                      <!-- more inner pages-->
                    </li> {% endif %} {% endfor %} {% endif %} {% endif %}
                    {% if request.user.is_authenticated %} {% if perms.products.view_category %} <li class="nav-item">
                      <a class="nav-link" href="{% url 'category-admin' %}" data-bs-toggle="" aria-expanded="false">
                        <div class="d-flex align-items-center">
                          <span class="nav-link-text">Categories</span>
                        </div>
                      </a>
                      <!-- more inner pages-->
                    </li> {% else %} {% for group in request.user.groups.all %} {% if perms.group.view_category %} <li class="nav-item">
                      <a class="nav-link" href="{% url 'category-admin' %}" data-bs-toggle="" aria-expanded="false">
                        <div class="d-flex align-items-center">
                          <span class="nav-link-text">Categories</span>
                        </div>
                      </a>
                      <!-- more inner pages-->
                    </li> {% endif %} {% endfor %} {% endif %} {% endif %}
                    {% if request.user.is_authenticated %} {% if perms.products.view_subcategory %} <li class="nav-item">
                      <a class="nav-link" href="{% url 'subcategory-admin' %}" data-bs-toggle="" aria-expanded="false">
                        <div class="d-flex align-items-center">
                          <span class="nav-link-text">Sub Categories</span>
                        </div>
                      </a>
                      <!-- more inner pages-->
                    </li> {% else %} {% for group in request.user.groups.all %} {% if perms.group.view_subcategory %} <li class="nav-item">
                      <a class="nav-link" href="{% url 'subcategory-admin' %}" data-bs-toggle="" aria-expanded="false">
                        <div class="d-flex align-items-center">
                          <span class="nav-link-text">Sub Categories</span>
                        </div>
                      </a>
                      <!-- more inner pages-->
                    </li> {% endif %} {% endfor %} {% endif %} {% endif %}
                    {% if request.user.is_authenticated %} {% if perms.products.view_brand %} <li class="nav-item">
                      <a class="nav-link" href="{% url 'brand-admin' %}" data-bs-toggle="" aria-expanded="false">
                        <div class="d-flex align-items-center">
                          <span class="nav-link-text">Brand</span>
                        </div>
                      </a>
                      <!-- more inner pages-->
                    </li> {% else %} {% for group in request.user.groups.all %} {% if perms.group.view_brand %} <li class="nav-item">
                      <a class="nav-link" href="{% url 'brand-admin' %}" data-bs-toggle="" aria-expanded="false">
                        <div class="d-flex align-items-center">
                          <span class="nav-link-text">Brand</span>
                        </div>
                      </a>
                      <!-- more inner pages-->
                    </li> {% endif %} {% endfor %} {% endif %} {% endif %}
                    {% if request.user.is_authenticated %} {% if perms.products.view_attribute %} <li class="nav-item">
                      <a class="nav-link" href="{% url 'attribute-admin' %}" data-bs-toggle="" aria-expanded="false">
                        <div class="d-flex align-items-center">
                          <span class="nav-link-text">Attribute</span>
                        </div>
                      </a>
                      <!-- more inner pages-->
                    </li> {% else %} {% for group in request.user.groups.all %} {% if perms.group.view_attribute %} <li class="nav-item">
                      <a class="nav-link" href="{% url 'attribute-admin' %}" data-bs-toggle="" aria-expanded="false">
                        <div class="d-flex align-items-center">
                          <span class="nav-link-text">Attribute</span>
                        </div>
                      </a>
                      <!-- more inner pages-->
                    </li> {% endif %} {% endfor %} {% endif %} {% endif %}
                  </ul>
                </div>
              </div>
            </li>


              <li class="nav-item">
            
                <div class="nav-item-wrapper">
                  <a class="nav-link dropdown-indicator label-1" href="#Order" role="button" data-bs-toggle="collapse" aria-expanded="true" aria-controls="Order">
                    <div class="d-flex align-items-center">
                      <div class="dropdown-indicator-icon"><span class="fas fa-caret-right"></span></div><span class="nav-link-icon"><span data-feather="truck"></span></span><span class="nav-link-text">Order Management</span>
                    </div>
                  </a>
                  <div class="parent-wrapper label-1">
                    <ul class="nav collapse parent show" data-bs-parent="#navbarVerticalCollapse" id="Order">
                      <li class="collapsed-nav-item-title d-none">Order Management
                      </li>
                      {% if request.user.is_authenticated %} {% if perms.checkout.view_user_order %} <li class="nav-item">
                        <a class="nav-link" href="{% url 'admin-order' %}" data-bs-toggle="" aria-expanded="false">
                          <div class="d-flex align-items-center">
                            <span class="nav-link-text">Orders</span>
                          </div>
                        </a>
                        <!-- more inner pages-->
                      </li> {% else %} {% for group in request.user.groups.all %} {% if perms.group.view_user_order %} <li class="nav-item">
                        <a class="nav-link" href="{% url 'admin-order' %}" data-bs-toggle="" aria-expanded="false">
                          <div class="d-flex align-items-center">
                            <span class="nav-link-text">Orders</span>
                          </div>
                        </a>
                        <!-- more inner pages-->
                      </li> {% endif %} {% endfor %} {% endif %} {% endif %}
                      {% if request.user.is_authenticated %} {% if perms.checkout.view_orderdeliveryperson %} <li class="nav-item">
                        <a class="nav-link" href="{% url 'delivery_person' %}" data-bs-toggle="" aria-expanded="false">
                          <div class="d-flex align-items-center">
                            <span class="nav-link-text">Delivery Person</span>
                          </div>
                        </a>
                        <!-- more inner pages-->
                      </li> {% else %} {% for group in request.user.groups.all %} {% if perms.group.view_orderdeliveryperson %} <li class="nav-item">
                        <a class="nav-link" href="{% url 'delivery_person' %}" data-bs-toggle="" aria-expanded="false">
                          <div class="d-flex align-items-center">
                            <span class="nav-link-text">Delivery Person</span>
                          </div>
                        </a>
                        <!-- more inner pages-->
                      </li> {% endif %} {% endfor %} {% endif %} {% endif %}

                      {% if request.user.is_authenticated %} {% if perms.checkout.view_orderreplacementcomment %} <li class="nav-item">
                        <a class="nav-link" href="{% url 'order-replace-page' %}" data-bs-toggle="" aria-expanded="false">
                          <div class="d-flex align-items-center">
                            <span class="nav-link-text">Replacement Orders</span>
                          </div>
                        </a>
                        <!-- more inner pages-->
                      </li> {% else %} {% for group in request.user.groups.all %} {% if perms.group.view_orderreplacementcomment %} <li class="nav-item">
                        <a class="nav-link" href="{% url 'order-replace-page' %}" data-bs-toggle="" aria-expanded="false">
                          <div class="d-flex align-items-center">
                            <span class="nav-link-text">Replacement Orders</span>
                          </div>
                        </a>
                        <!-- more inner pages-->
                      </li> {% endif %} {% endfor %} {% endif %} {% endif %}


                      {% if request.user.is_authenticated %} {% if perms.checkout.view_replacementcollectperson %} <li class="nav-item">
                        <a class="nav-link" href="{% url 'replacement_person' %}" data-bs-toggle="" aria-expanded="false">
                          <div class="d-flex align-items-center">
                            <span class="nav-link-text">Re-Collection Person</span>
                          </div>
                        </a>
                        <!-- more inner pages-->
                      </li> {% else %} {% for group in request.user.groups.all %} {% if perms.group.view_replacementcollectperson %} <li class="nav-item">
                        <a class="nav-link" href="{% url 'replacement_person' %}" data-bs-toggle="" aria-expanded="false">
                          <div class="d-flex align-items-center">
                            <span class="nav-link-text">Re-Collection Person</span>
                          </div>
                        </a>
                        <!-- more inner pages-->
                      </li> {% endif %} {% endfor %} {% endif %} {% endif %}
                  <li class="nav-item"><a class="nav-link" href="{% url 'product-adding' %}" data-bs-toggle="" aria-expanded="false">
                      <div class="d-flex align-items-center"><span class="nav-link-text">Abandoned cart</span>
                      </div>
                    </a>
                    <!-- more inner pages-->
                  </li>
                    </ul>
                  </div>
                </div>
              </li>


              <li class="nav-item">
            
                <div class="nav-item-wrapper">
                  <a class="nav-link dropdown-indicator label-1" href="#Coupon" role="button" data-bs-toggle="collapse" aria-expanded="true" aria-controls="Coupon">
                    <div class="d-flex align-items-center">
                      <div class="dropdown-indicator-icon"><span class="fas fa-caret-right"></span></div><span class="nav-link-icon"><span data-feather="tag"></span></span><span class="nav-link-text">Coupon</span>
                    </div>
                  </a>
                  <div class="parent-wrapper label-1">
                    <ul class="nav collapse parent show" data-bs-parent="#navbarVerticalCollapse" id="Coupon">
                      <li class="collapsed-nav-item-title d-none">Coupon
                      </li>
                      {% if request.user.is_authenticated %} {% if perms.products.view_coupon %} <li class="nav-item">
                        <a class="nav-link" href="{% url 'coupon' %}" data-bs-toggle="" aria-expanded="false">
                          <div class="d-flex align-items-center">
                            <span class="nav-link-text">All Coupon</span>
                          </div>
                        </a>
                        <!-- more inner pages-->
                      </li> {% else %} {% for group in request.user.groups.all %} {% if perms.group.view_coupon %} <li class="nav-item">
                        <a class="nav-link" href="{% url 'coupon' %}" data-bs-toggle="" aria-expanded="false">
                          <div class="d-flex align-items-center">
                            <span class="nav-link-text">All Coupon</span>
                          </div>
                        </a>
                        <!-- more inner pages-->
                      </li> {% endif %} {% endfor %} {% endif %} {% endif %}
                      {% if request.user.is_authenticated %} {% if perms.products.view_couponusage %} <li class="nav-item">
                        <a class="nav-link" href="{% url 'couponUseage' %}" data-bs-toggle="" aria-expanded="false">
                          <div class="d-flex align-items-center">
                            <span class="nav-link-text">Coupon Useage</span>
                          </div>
                        </a>
                        <!-- more inner pages-->
                      </li> {% else %} {% for group in request.user.groups.all %} {% if perms.group.view_couponusage %} <li class="nav-item">
                        <a class="nav-link" href="{% url 'couponUseage' %}" data-bs-toggle="" aria-expanded="false">
                          <div class="d-flex align-items-center">
                            <span class="nav-link-text">Coupon Useage</span>
                          </div>
                        </a>
                        <!-- more inner pages-->
                      </li> {% endif %} {% endfor %} {% endif %} {% endif %}
                    </ul>
                  </div>
                </div>
              </li>

              <li class="nav-item">
            
                <div class="nav-item-wrapper">
                  <a class="nav-link dropdown-indicator label-1" href="#CSV" role="button" data-bs-toggle="collapse" aria-expanded="true" aria-controls="CSV">
                    <div class="d-flex align-items-center">
                      <div class="dropdown-indicator-icon"><span class="fas fa-caret-right"></span></div><span class="nav-link-icon"><span data-feather="file-text"></span></span><span class="nav-link-text">CSV Management</span>
                    </div>
                  </a>
                  <div class="parent-wrapper label-1">
                    <ul class="nav collapse parent show" data-bs-parent="#navbarVerticalCollapse" id="CSV">
                      <li class="collapsed-nav-item-title d-none">CSV Management
                      </li>
                      {% if request.user.is_authenticated %} {% if perms.csvdata.view_csv_creation %} <li class="nav-item">
                        <a class="nav-link" href="3" data-bs-toggle="" aria-expanded="false">
                          <div class="d-flex align-items-center">
                            <span class="nav-link-text">Csv Data</span>
                          </div>
                        </a>
                        <!-- more inner pages-->
                      </li> {% else %} {% for group in request.user.groups.all %} {% if perms.group.view_csv_creation %} <li class="nav-item">
                        <a class="nav-link" href="3" data-bs-toggle="" aria-expanded="false">
                          <div class="d-flex align-items-center">
                            <span class="nav-link-text">Csv Data</span>
                          </div>
                        </a>
                        <!-- more inner pages-->
                      </li> {% endif %} {% endfor %} {% endif %} {% endif %}
                    </ul>
                  </div>
                </div>
              </li>

              <li class="nav-item">
            
                <div class="nav-item-wrapper">
                  <a class="nav-link dropdown-indicator label-1" href="#User" role="button" data-bs-toggle="collapse" aria-expanded="true" aria-controls="User">
                    <div class="d-flex align-items-center">
                      <div class="dropdown-indicator-icon"><span class="fas fa-caret-right"></span></div><span class="nav-link-icon"><span data-feather="user-check"></span></span><span class="nav-link-text">User Management</span>
                    </div>
                  </a>
                  <div class="parent-wrapper label-1">
                    <ul class="nav collapse parent show" data-bs-parent="#navbarVerticalCollapse" id="User">
                      <li class="collapsed-nav-item-title d-none">User Management
                      </li>
                      {% if request.user.is_authenticated %} {% if perms.auth.view_group %} <li class="nav-item">
                        <a class="nav-link" href="{% url 'group' %}" data-bs-toggle="" aria-expanded="false">
                          <div class="d-flex align-items-center">
                            <span class="nav-link-text">User Role</span>
                          </div>
                        </a>
                        <!-- more inner pages-->
                      </li> {% else %} {% for group in request.user.groups.all %} {% if perms.group.view_group %} <li class="nav-item">
                        <a class="nav-link" href="{% url 'group' %}" data-bs-toggle="" aria-expanded="false">
                          <div class="d-flex align-items-center">
                            <span class="nav-link-text">User Role</span>
                          </div>
                        </a>
                        <!-- more inner pages-->
                      </li> {% endif %} {% endfor %} {% endif %} {% endif %}
                    </ul>
                  </div>
                </div>
              </li>

              <li class="nav-item">
            
                <div class="nav-item-wrapper">
                  <a class="nav-link dropdown-indicator label-1" href="#Report" role="button" data-bs-toggle="collapse" aria-expanded="true" aria-controls="Report">
                    <div class="d-flex align-items-center">
                      <div class="dropdown-indicator-icon"><span class="fas fa-caret-right"></span></div><span class="nav-link-icon"><span data-feather="file-text"></span></span><span class="nav-link-text">Report</span>
                    </div>
                  </a>
                  <div class="parent-wrapper label-1">
                    <ul class="nav collapse parent show" data-bs-parent="#navbarVerticalCollapse" id="Report">
                      <li class="collapsed-nav-item-title d-none">Report
                      </li>
                      <li class="nav-item">
                        <a class="nav-link" href="{% url 'generate_order_report' %}" data-bs-toggle="" aria-expanded="false">
                          <div class="d-flex align-items-center">
                            <span class="nav-link-text">Order</span>
                          </div>
                        </a>
                        <!-- more inner pages-->
                      </li>
                      <li class="nav-item">
                        <a class="nav-link" href="{% url 'generate_invoice_report' %}" data-bs-toggle="" aria-expanded="false">
                          <div class="d-flex align-items-center">
                            <span class="nav-link-text">Invoice</span>
                          </div>
                        </a>
                        <!-- more inner pages-->
                      </li>
                      <li class="nav-item">
                        <a class="nav-link" href="{% url 'generate_order_shipping_report' %}" data-bs-toggle="" aria-expanded="false">
                          <div class="d-flex align-items-center">
                            <span class="nav-link-text">Shipping</span>
                          </div>
                        </a>
                        <!-- more inner pages-->
                      </li>
                      <li class="nav-item">
                        <a class="nav-link" href="{% url 'generate_coupon_report' %}" data-bs-toggle="" aria-expanded="false">
                          <div class="d-flex align-items-center">
                            <span class="nav-link-text">Coupon</span>
                          </div>
                        </a>
                        <!-- more inner pages-->
                      </li>
                      <li class="nav-item">
                        <a class="nav-link" href="{% url 'product-adding' %}" data-bs-toggle="" aria-expanded="false">
                          <div class="d-flex align-items-center">
                            <span class="nav-link-text">Abandoned Cart</span>
                          </div>
                        </a>
                        <!-- more inner pages-->
                      </li>
                    </ul>
                  </div>
                </div>
              </li>
            </ul>
          </div>
        </div>
        <div class="navbar-vertical-footer">
          <button class="btn navbar-vertical-toggle border-0 fw-semi-bold w-100 white-space-nowrap d-flex align-items-center"><span class="uil uil-left-arrow-to-left fs-0"></span><span class="uil uil-arrow-from-right fs-0"></span><span class="navbar-vertical-footer-text ms-2">Collapsed View</span></button>
        </div>
      </nav>
      {% include 'Al-admin/base/nav.html' %}
      {% if request.user.is_authenticated %} {% if perms.products.add_products %} <div class="content">
        <form class="mb-9" id="{% if product_data %}product-update{% else %}product-adding{% endif %}" method="post" enctype="multipart/form-data"> {% csrf_token %} <input type="hidden" id="product-id" value="{{ product_id }}">
          <div class="row g-3 flex-between-end mb-5">
            <div class="col-auto">
              <h2 class="mb-2">Add a product</h2>
              <h5 class="text-700 fw-semi-bold">Orders placed across your store</h5>
            </div>
            <div class="col-auto">
              <button class="btn btn-phoenix-secondary me-2 mb-2 mb-sm-0" type="button">Discard</button>
              <button class="btn btn-phoenix-primary me-2 mb-2 mb-sm-0" type="button">Save draft</button> {% if product_data %} {% if request.user.is_authenticated %} {% if perms.products.change_products %} <button class="btn btn-primary mb-2 mb-sm-0" id="update-product" type="submit">Update product</button> {% else %} {% for group in request.user.groups.all %} {% if perms.group.change_products %} <button class="btn btn-primary mb-2 mb-sm-0" id="update-product" type="submit">Update product</button> {% endif %} {% endfor %} {% endif %} {% endif %}
              <!-- <button class="btn btn-primary mb-2 mb-sm-0 d-none" id="add-product" type="submit">Publish product</button> --> {% else %} {% if request.user.is_authenticated %} {% if perms.products.add_products %} <button class="btn btn-primary mb-2 mb-sm-0" id="add-product" type="submit">Publish product</button> {% else %} {% for group in request.user.groups.all %} {% if perms.group.add_products %} <button class="btn btn-primary mb-2 mb-sm-0" id="add-product" type="submit">Publish product</button> {% endif %} {% endfor %} {% endif %} {% endif %} {% endif %}
            </div>
          </div>
          <h4 class="mb-3">Product Name</h4>
          <div class="row g-5">
            <div class="col-12 col-xl-8">
              <input class="form-control mb-5 required-field" name="name" type="text" placeholder="Write Name here..." data-parsley-group="product" required data-parsley-required-message="☒ Please enter Product Name." value="{{product_data.product_name}}" />
              <div class="mb-6">
                <h5 class="mb-3 text-1000">product Sku</h5>
                <input class="form-control required-field" type="text" name="sku" placeholder="SKU" data-parsley-group="product" required data-parsley-required-message="☒ Please enter Product SKU." value="{{product_data.product_sku}}" />
              </div>
              <div class="mb-6">
                <h4 class="mb-3"> Product Description</h4>
                <textarea class="tinymce" id="description" name="description" data-tinymce='{"height":"15rem","placeholder":"Write a description here..."}'>{{product_data.description}}</textarea>
              </div>
              <div class="mb-6">
                <h4 class="mb-3"> Product Short Description</h4>
                <textarea class="tinymce" id="short_description" name="short_description" data-tinymce='{"height":"15rem","placeholder":"Write a description here..."}'>{{product_data.short_description}}</textarea>
              </div>
              <h4 class="mb-3">Product images</h4>
              {% for image in product_images %}
              <div class="border bg-white rounded-3 d-flex flex-center position-relative me-2 mb-2" style="height: 50px; width: 50px; overflow: hidden; position: relative;">
                <img class="dz-image" src="{{ image.image.url }}" alt="{{ image.image }}" style="height: 100%;" data-dz-thumbnail="data-dz-thumbnail" />
                <!-- Remove option positioned relative to the container -->
                <a class="dz-remove text-400 position-absolute top-0 end-0 m-2" href="#!" data-dz-remove="data-dz-remove" data-image-id="{{ image.id }}">
                    <span data-feather="x"></span>
                </a>
              </div>                        
              {% endfor %}
              <input class="form-control mb-1" type="file" id="img" name="file" accept="image/*" multiple required>
              <span class="text-500 mb-3">Select Multiple Image Using Ctrl+ or Shift+ click</span>
              <h4 class="mb-3">Inventory</h4>
              <div class="row g-0 border-top border-bottom border-300">
                <div class="col-sm-4">
                  <div class="nav flex-sm-column border-bottom border-bottom-sm-0 border-end-sm border-300 fs--1 vertical-tab h-100 justify-content-between" role="tablist" aria-orientation="vertical">
                    <a class="nav-link border-end border-end-sm-0 border-bottom-sm border-300 text-center text-sm-start cursor-pointer outline-none d-sm-flex align-items-sm-center active" id="pricingTab" data-bs-toggle="tab" data-bs-target="#pricingTabContent" role="tab" aria-controls="pricingTabContent" aria-selected="true">
                      <span class="me-sm-2 fs-4 nav-icons" data-feather="tag"></span>
                      <span class="d-none d-sm-inline">Pricing</span>
                    </a>
                    <a class="nav-link border-end border-end-sm-0 border-bottom-sm border-300 text-center text-sm-start cursor-pointer outline-none d-sm-flex align-items-sm-center" id="restockTab" data-bs-toggle="tab" data-bs-target="#restockTabContent" role="tab" aria-controls="restockTabContent" aria-selected="false">
                      <span class="me-sm-2 fs-4 nav-icons" data-feather="package"></span>
                      <span class="d-none d-sm-inline">Restock</span>
                    </a>
                    
                    <a class="nav-link border-end border-end-sm-0 border-bottom-sm border-300 text-center text-sm-start cursor-pointer outline-none d-sm-flex align-items-sm-center" id="attributesTab" data-bs-toggle="tab" data-bs-target="#MeasurementTopContent" role="tab" aria-controls="MeasurementTopContent" aria-selected="false">
                      <span class="me-sm-2 fs-4 nav-icons" data-feather="sliders"></span>
                      <span class="d-none d-sm-inline">Measurement</span>
                    </a>
                    <a class="nav-link border-end border-end-sm-0 border-bottom-sm border-300 text-center text-sm-start cursor-pointer outline-none d-sm-flex align-items-sm-center" id="productsTab" data-bs-toggle="tab" data-bs-target="#productsTabContent" role="tab" aria-controls="productsTabContent" aria-selected="false">
                      <span class="me-sm-2 fs-4 nav-icons" data-feather="globe"></span>
                      <span class="d-none d-sm-inline">SEO Settings</span>
                    </a>
                  </div>
                </div>
                <div class="col-sm-8">
                  <div class="tab-content py-3 ps-sm-4 h-100">
                    <div class="tab-pane fade show active" id="pricingTabContent" role="tabpanel">
                      <h4 class="mb-3 d-sm-none">Pricing</h4>
                      <div class="row g-3">
                        <div class="col-12 col-lg-6">
                          <h5 class="mb-2 text-1000">Sale price</h5>
                          <input class="form-control" type="text" name="sale_price" data-parsley-type="number" required data-parsley-required-message="☒ Please enter sale price." placeholder="AED" value="{% if product_data.sale_price %}{{product_data.sale_price}}{% endif %}" />
                        </div>
                        <div class="col-12 col-lg-6">
                          <h5 class="mb-2 text-1000">Regular price </h5>
                          <input class="form-control required-field" type="text" name="regular_price" placeholder="AED" data-parsley-group="product" data-parsley-type="number" required data-parsley-required-message="☒ Please enter regular price." value="{{product_data.regular_price}}" />
                        </div>                        
                      </div>
                    </div>
                    <div class="tab-pane fade h-100" id="restockTabContent" role="tabpanel" aria-labelledby="restockTab">
                      <div class="row g-3">
                        <div class="col-12 col-lg-6">
                          <h5 class="mb-3 text-1000">Add to Stock</h5>
                          <input class="form-control required-field" type="number" name="stock" placeholder="Quantity" data-parsley-group="product" data-parsley-type="number" required data-parsley-required-message="☒ Please enter Available Stock." value="{{product_data.number_of_stock_in}}" />
                        </div>
                        <div class="col-12 col-lg-6">
                          <h5 class="mb-3 text-1000 me-2">Stock Status</h5>
                          <select class="form-select mb-3 required-field" name="stock_status" aria-label="category" data-parsley-group="product" required data-parsley-required-message="☒ Please Select Stock Status.">
                            <option value="Instock" {% if product_data.stock_status == 'Instock'%} selected {% endif %}>Instock</option>
                            <option value="Out of Stock" {% if product_data.stock_status == 'Out of Stock'%} selected {% endif %}>Out of Stock</option>
                          </select>
                        </div>
                        <div class="col-12 col-lg-6">
                          <h5 class="mb-3 text-1000">Low stock amount </h5>
                          <input class="form-control required-field" type="number" name="low_stock_amount" placeholder="low stock amount" data-parsley-group="product" data-parsley-type="number" required data-parsley-required-message="☒ Please enter low stock amount." value="{{product_data.low_stock_amount}}" />
                        </div>
                      </div>
                    </div>
                    <div class="tab-pane fade" id="productsTabContent" role="tabpanel" aria-labelledby="productsTab">
                      <div class="row g-3">
                        <div class="col-12 col-lg-6">
                          <h5 class="mb-2 text-1000">Title</h5>
                          <input class="form-control required-field" type="text" name="seo_title" placeholder="SKU" data-parsley-group="product" required data-parsley-required-message="☒ Please enter Product SKU." value="{{product_data.seo_title}}" />
                        </div>
                        <div class="col-12 col-lg-6">
                          <h5 class="mb-2 text-1000">Keyword</h5>
                          <input class="form-control required-field" type="text" name="seo_keyword" placeholder="Model" data-parsley-group="product" required data-parsley-required-message="☒ Please enter Product Model Number." value="{{product_data.seo_keyword}}" />
                        </div>
                        <div class="col-12 col-lg-12">
                          <h5 class="mb-2 text-1000">Description</h5>
                          <textarea class="tinymce" id="description" name="seo_description" data-tinymce='{"height":"15rem","placeholder":"Write a description here..."}'>{{product_data.seo_description}}</textarea>
                        </div>
                      </div>
                    </div>
                    <div class="tab-pane fade" id="MeasurementTopContent" role="tabpanel" aria-labelledby="attributesTab">
                      <div class="row g-3">
                        <div class="col-12 col-lg-6">
                          <h5 class="mb-2 text-1000">Weight</h5>
                          <input class="form-control" type="text" name="weight" placeholder="weight" value="{% if product_data.weight %}{{ product_data.weight }}{% endif %}" />
                        </div>
                        <div class="col-12 col-lg-6">
                          <h5 class="mb-2 text-1000">Length</h5>
                          <input class="form-control" type="text" name="length" placeholder="length" value="{% if product_data.length %}{{ product_data.weight }}{% endif %}" />
                        </div>
                        <div class="col-12 col-lg-6">
                          <h5 class="mb-2 text-1000">Width</h5>
                          <input class="form-control" type="text" name="width" placeholder="width" value="{% if product_data.width %}{{ product_data.weight }}{% endif %}" />
                        </div>
                        <div class="col-12 col-lg-6">
                          <h5 class="mb-2 text-1000">Height</h5>
                          <input class="form-control" type="text" name="height" placeholder="height" value="{% if product_data.height %}{{ product_data.weight }}{% endif %}" />
                        </div>
                      </div>                      
                    </div>
                  </div>
                </div>
              </div>
            </div>
            <div class="col-12 col-xl-4">
              <div class="row g-2">
                <div class="col-12 col-xl-12">
                  <div class="card mb-3">
                    <div class="card-body">
                      <h4 class="card-title mb-4">Organize</h4>
                      <div class="row g-3">
                        <div class="col-12 col-sm-6 col-xl-12">
                          <div class="mb-4">
                            <div class="d-flex justify-content-between flex-wrap mb-4">
                              <h5 class="mb-0 text-1000 me-2 align-self-center">Category</h5>
                              <!-- <a class="fw-bold fs--1" href="#!">Add new category</a> -->
                              <a class="fw-bold fs--1" href="" data-bs-toggle="modal" data-bs-target="#Category">Add category</a>
                              <div class="modal fade" id="Category" tabindex="-1" aria-labelledby="scrollingLongModalLabel2" aria-hidden="true">
                                <div class="modal-dialog modal-dialog-scrollable">
                                  <div class="modal-content">
                                    <div class="modal-header">
                                      <h5 class="modal-title" id="scrollingLongModalLabel2">Add Category</h5>
                                      <button class="btn p-1" type="button" data-bs-dismiss="modal" aria-label="Close">
                                        <span class="fas fa-times fs--1"></span>
                                      </button>
                                    </div>
                                    <div class="modal-body">
                                      <!-- subcategory_form.html -->
                                      <form method="post" id="category-form"  enctype="multipart/form-data">
                                         {% csrf_token %} 
                                         <div class="mb-6">
                                          <h4 class="mb-3">Category Name</h4>
                                          <input class="form-control mb-5" name="name" type="text" placeholder="Write Name here..." />
                                        </div>
                                        <div class="mb-6">
                                          <h4 class="mb-3"> Category Description</h4>
                                          <textarea class="tinymce" id="Description" name="Description" data-tinymce='{"height":"15rem","placeholder":"Write a description here..."}'></textarea>
                                        </div>
                                        <div class="mb-6">
                                          <h4 class="mb-3">Category image</h4>
                                          <input class="form-control" type="file" id="img" name="image" accept="image/*">
                                        </div>
                                        <div class="mb-6">
                                          <h4 class="mb-3">Page Title</h4>
                                          <input class="form-control mb-5" name="page_title" type="text" placeholder="Write title here..." />
                                        </div>
                                        <div class="mb-6">
                                          <h4 class="mb-3">Meta keyword</h4>
                                          <textarea class="tinymce" id="meta_keyword" name="meta_keyword" data-tinymce='{"height":"15rem","placeholder":"Write a description here..."}'></textarea>
                                        </div>
                                        <div class="mb-6">
                                          <h4 class="mb-3">Meta Description</h4>
                                          <textarea class="tinymce" id="meta_Description" name="meta_Description" data-tinymce='{"height":"15rem","placeholder":"Write a description here..."}'></textarea>
                                        </div>
                                        <div class="mb-6">
                                          <h4 class="mb-3">Slot Position</h4>
                                          <input class="form-control mb-5" name="Slot_Position" type="number" placeholder="Write Name here..." />
                                        </div>
                                        <div class="form-check mb-6">
                                          <label class="form-check-label text-900 fs-0" for="Activestatus">Is Active</label>
                                          <input class="form-check-input" id="Activestatus" name="is_Active" type="checkbox" />
                                        </div>
                                        <div class="form-check mb-6">
                                          <label class="form-check-label text-900 fs-0" for="Navigationstatus">Include In Navogation Menu</label>
                                          <input class="form-check-input" id="Navigationstatus" name="Include_In_Navogation_Menu" type="checkbox" />
                                        </div>
                                        <div class="mb-6">
                                          <button class="btn btn-primary text-sm-start" id="add-cate" type="button">Save</button>
                                          <button class="btn btn-outline-primary" type="button" data-bs-dismiss="modal">Cancel</button>
                                        </div>
                                      </form>
                                    </div>
                                  </div>
                                </div>
                              </div>
                            </div>
                            <select class="form-select mb-3 required-field" id="categorySelect" name="category" aria-label="category" data-parsley-group="product" required data-parsley-required-message="☒ Please select Category.">
                              <option value="" disabled selected>select category</option> {% for category in Categorys %}
                              <!-- <option value="{{ category.name }}" {% if category.name == product_data.category %}selected{% endif %}>{{ category.name }}</option> -->
                              <option value="{{ category.name }}" {% if category.name|lower == product_data.category|lower %}selected{% endif %}>{{ category.name }}</option> {% endfor %}
                            </select>
                          </div>
                        </div>
                        <div class="col-12 col-sm-6 col-xl-12">
                          <div class="mb-4">
                            <div class="d-flex justify-content-between flex-wrap mb-2">
                              <h5 class="mb-0 text-1000 me-2">Sub Category</h5>
                              <a class="fw-bold fs--1" href="" data-bs-toggle="modal" data-bs-target="#subcategory">Add Sub Category</a>
                              <div class="modal fade" id="subcategory" tabindex="-1" aria-labelledby="scrollingLongModalLabel2" aria-hidden="true">
                                <div class="modal-dialog modal-dialog-scrollable">
                                  <div class="modal-content">
                                    <div class="modal-header">
                                      <h5 class="modal-title" id="scrollingLongModalLabel2">Add Sub Category</h5>
                                      <button class="btn p-1" type="button" data-bs-dismiss="modal" aria-label="Close">
                                        <span class="fas fa-times fs--1"></span>
                                      </button>
                                    </div>
                                    <div class="modal-body">
                                      <form method="post" id="subcategory-form" enctype="multipart/form-data"> {% csrf_token %} <div class="mb-6">
                                          <h4 class="mb-3">Main Category</h4>
                                          <select class="form-select mb-3" id="categorySelect" name="main_Category" aria-label="category" data-parsley-group="product" required data-parsley-required-message="☒ Please select Category.">
                                            <option value="" selected disabled>select category</option> {% for Categorys in Categorys %} <option value="{{Categorys.name}}">{{Categorys.name}}</option> {% endfor %}
                                          </select>
                                        </div>
                                        <div class="mb-6">
                                          <h4 class="mb-3">SubCategory Name</h4>
                                          <input class="form-control mb-5" name="name" type="text" placeholder="Write Name here..." />
                                        </div>
                                        <div class="mb-6">
                                          <h4 class="mb-3"> SubCategory Description</h4>
                                          <textarea class="tinymce" id="Description" name="Description" data-tinymce='{"height":"15rem","placeholder":"Write a description here..."}'></textarea>
                                        </div>
                                        <div class="mb-6">
                                          <h4 class="mb-3">SubCategory image</h4>
                                          <input class="form-control" type="file" id="img" name="image" accept="image/*">
                                          <!-- <div class="dropzone dropzone-multiple p-0 mb-5" id="my-awesome-dropzone" data-dropzone="data-dropzone"><div class="fallback"><input name="brand_img" type="file" id="subcategory_img"/></div><div class="dz-preview d-flex flex-wrap"><div class="border bg-white rounded-3 d-flex flex-center position-relative me-2 mb-2" style="height:80px;width:80px;"><img class="dz-image" src="{{ MEDIA_PREFIX }}{{brand_value.brand_img}}" alt="..." data-dz-thumbnail="data-dz-thumbnail" /><a class="dz-remove text-400" href="#!" data-dz-remove="data-dz-remove"><span data-feather="x"></span></a></div></div><div class="dz-message text-600" data-dz-message="data-dz-message"> Drag your photo here <span class="text-800">or</span><button class="btn btn-link p-0" type="button">Browse from device</button><br /><img class="mt-3 me-2" src="/../../../static/assets/img/icons/image-icon.png" width="40" alt="" /></div></div> -->
                                        </div>
                                        <div class="mb-6">
                                          <h4 class="mb-3">Page Title</h4>
                                          <input class="form-control mb-5" name="page_title" type="text" placeholder="Write title here..." />
                                        </div>
                                        <div class="mb-6">
                                          <h4 class="mb-3">Meta keyword</h4>
                                          <textarea class="tinymce" id="meta_keyword" name="meta_keyword" data-tinymce='{"height":"15rem","placeholder":"Write a description here..."}'></textarea>
                                        </div>
                                        <div class="mb-6">
                                          <h4 class="mb-3">Meta Description</h4>
                                          <textarea class="tinymce" id="meta_Description" name="meta_Description" data-tinymce='{"height":"15rem","placeholder":"Write a description here..."}'></textarea>
                                        </div>
                                        <div class="mb-6">
                                          <h4 class="mb-3">Slot Position</h4>
                                          <input class="form-control mb-5" name="Slot_Position" type="number" placeholder="Write Name here..." />
                                        </div>
                                        <div class="form-check mb-6">
                                          <label class="form-check-label text-900 fs-0" for="Activestatus">Is Active</label>
                                          <input class="form-check-input" id="Activestatus" name="is_Active" type="checkbox" />
                                        </div>
                                        <div class="form-check mb-6">
                                          <label class="form-check-label text-900 fs-0" for="Navigationstatus">Include In Navogation Menu</label>
                                          <input class="form-check-input" id="Navigationstatus" name="Include_In_Navogation_Menu" type="checkbox" />
                                        </div>
                                        <div class="mb-6">
                                          <button class="btn btn-primary text-sm-start" id="add-subcat" type="button">Save</button>
                                          <button class="btn btn-outline-primary" type="button" data-bs-dismiss="modal">Cancel</button>
                                        </div>
                                      </form>
                                    </div>
                                  </div>
                                </div>
                              </div>
                            </div> {% if product_data %} <select class="form-select mb-3 required-field" id="subcategorySelect" name="subcategory" aria-label="subcategory" data-parsley-group="product" required data-parsley-required-message="☒ Please select Subcategory.">
                              <option value="" disabled>select subcategory</option> {% for subCategory in subCategories %} <option value="{{ subCategory.name }}" {% if subCategory.name|lower == product_data.sub_category|lower %}selected{% endif %}>{{ subCategory.name }}</option> {% endfor %}
                            </select> {% else %} <select class="form-select mb-3 required-field" id="subcategorySelect" name="subcategory" aria-label="subcategory" data-parsley-group="product" required data-parsley-required-message="☒ Please select SubCategory.">
                              <option value="" selected disabled>select subcategory</option>
                            </select> {% endif %}
                          </div>
                        </div>
                        <div class="col-12 col-sm-6 col-xl-12">
                          <div class="d-flex justify-content-between flex-wrap mb-2">
                            <h5 class="mb-0 text-1000 me-2">Brand</h5>
                            <a class="fw-bold fs--1 lh-sm" href="" data-bs-toggle="modal" data-bs-target="#Brand">Add Brand</a>
                            <div class="modal fade" id="Brand" tabindex="-1" aria-labelledby="scrollingLongModalLabel2" aria-hidden="true">
                              <div class="modal-dialog modal-dialog-scrollable">
                                <div class="modal-content">
                                  <div class="modal-header">
                                    <h5 class="modal-title" id="scrollingLongModalLabel2">Add Brand</h5>
                                    <button class="btn p-1" type="button" data-bs-dismiss="modal" aria-label="Close">
                                      <span class="fas fa-times fs--1"></span>
                                    </button>
                                  </div>
                                  <div class="modal-body">
                                    <form method="post" id="brand-form" enctype="multipart/form-data"> {% csrf_token %}
                                    <div class="mb-6">
                                        <h4 class="mb-3">Brand Name</h4>
                                        <input class="form-control mb-5" name="name" type="text" placeholder="Write Name here..." />
                                      </div>
                                      <div class="mb-6">
                                        <h4 class="mb-3">Brand image</h4>
                                        <input class="form-control" type="file" id="img" name="brand_img" accept="image/*">
                                      </div>
                                      <div class="form-check mb-6">
                                        <label class="form-check-label text-900 fs-0" for="Activestatus">Active</label>
                                        <input class="form-check-input" id="Activestatus" name="Active" type="checkbox" />
                                      </div>
                                      <div class="mb-6">
                                        <button class="btn btn-primary text-sm-start" id="add-brand" type="button">Save</button>
                                        <button class="btn btn-outline-primary" type="button" data-bs-dismiss="modal">Cancel</button>
                                      </div>
                                    </form>
                                  </div>
                                </div>
                              </div>
                            </div>
                          </div> {% if product_data %} <select class="form-select required-field" aria-label="Brand" id="brand" name="brand" data-parsley-group="product" required data-parsley-required-message="☒ Please select Brand.">
                            <option value="" disabled>select Brand</option> {% for brand_option in brand %} <option value="{{ brand_option.name }}" {% if brand_option.name|lower == product_data.brand|lower %}selected{% endif %}>{{ brand_option.name }}</option> {% endfor %}
                          </select> {% else %} <select class="form-select required-field" aria-label="Brand" id="brand" name="brand" data-parsley-group="product" required data-parsley-required-message="☒ Please select Brand.">
                            <option value="" disabled selected>select Brand</option>
                          </select> {% endif %}
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
            <div class="col-12">
              <div class="accordion" id="accordionExample">
                <div class="accordion-item border-top border-300">
                  <h2 class="accordion-header" id="headingOne">
                    <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseOne" aria-expanded="false" aria-controls="collapseOne"> Up-Sell Products </button>
                  </h2>
                  <div class="accordion-collapse collapse" id="collapseOne" aria-labelledby="headingOne" data-bs-parent="#accordionExample" style="">
                    <div class="d-flex justify-content-between align-items-center">
                      <div class="accordion-body pt-0"> An up-sell item is offered to the customer as a pricier or higher-quality alternative to the product the customer is looking at. </div>
                      <div>
                        <button class="btn btn-primary mb-1" type="button" data-bs-toggle="offcanvas" data-bs-target="#offcanvasRight" aria-controls="offcanvasRight">Add Up-Sell Products</button>
                        <div class="offcanvas offcanvas-end w-75 p-5" id="offcanvasRight" tabindex="-1" aria-labelledby="offcanvasRightLabel">
                          <div class="offcanvas-header mb-3">
                            <h5 id="offcanvasRightLabel">Add Up-Sell Products</h5>
                            <button class="btn-close text-reset" type="button" data-bs-dismiss="offcanvas" aria-label="Close"></button>
                          </div>
                          <div class="bg-light mb-3">
                            <div class="text-end p-4">
                              <div class="col-auto">
                                <!-- <button class="btn btn-phoenix-secondary me-2 mb-2 mb-sm-0" type="button">Discard</button> -->
                                <button class="btn btn-phoenix-primary me-2 mb-2 mb-sm-0" data-bs-dismiss="offcanvas" type="button">Cancel</button> {% if product_data %} <button class="btn btn-primary mb-2 mb-sm-0" id="update-upsell" type="button">Update Selected products</button>
                                <button class="btn btn-primary mb-2 mb-sm-0 d-none" id="add-upsell" type="button">Add Selected products</button> {% else %} <button class="btn btn-primary mb-2 mb-sm-0" id="add-upsell" type="button">Add Selected products</button> {% endif %}
                              </div>
                            </div>
                          </div>
                          <div class="mb-4">
                            <div class="row g-3">
                              <div class="col">
                                <div class="search-box">
                                  <form class="position-relative" data-bs-toggle="search" data-bs-display="static">
                                    <input class="form-control search-input search" type="search" placeholder="Search products" aria-label="Search" />
                                    <span class="fas fa-search search-box-icon"></span>
                                  </form>
                                </div>
                              </div>
                              <div class="col">
                                <select class="form-select filter-dropdown" data-filter="category" aria-label="Default select example">
                                  <option selected="" disabled>select category</option> {% for categories in Categorys %} <option value="{{categories.name}}">{{categories.name}}</option> {% endfor %}
                                </select>
                              </div>
                              <div class="col">
                                <select class="form-select filter-dropdown" data-filter="subcategory" aria-label="Default select example">
                                  <option selected="" disabled>select Sub category</option> {% for subCategories in subCategories %} <option value="{{subCategories.name}}">{{subCategories.name}}</option> {% endfor %}
                                </select>
                              </div>
                              <div class="col">
                                <select class="form-select filter-dropdown" data-filter="brand" aria-label="Default select example">
                                  <option selected="" disabled>select Brand</option> {% for brand in brand %} <option value="{{brand.name}}">{{brand.name}}</option> {% endfor %}
                                </select>
                              </div>
                              <div class="col">
                                <select class="form-select filter-dropdown" data-filter="status" aria-label="Default select example">
                                  <option selected="" disabled>select Status</option>
                                  <option value="Instock">Instock</option>
                                  <option value="Out of Stock">Out of Stock</option>
                                </select>
                              </div>
                            </div>
                          </div>
                          <div class="offcanvas-body">
                            <div class="mx-n4 px-4 mx-lg-n6 px-lg-6 bg-white border-top border-bottom border-200 position-relative top-1">
                              <div class="table-responsive scrollbar mx-n1 px-1">
                                <table class="table fs--1 mb-0">
                                  <thead>
                                    <tr>
                                      <th class="white-space-nowrap fs--1 align-middle ps-0" style="max-width:20px; width:18px;">
                                        <div class="form-check mb-0 fs-0">
                                          <input class="form-check-input" id="checkbox-bulk-products-select" type="checkbox" data-bulk-select='{"body":"products-table-body"}' />
                                        </div>
                                      </th>
                                      <th class="sort white-space-nowrap align-middle fs--2" scope="col" style="width:70px;"></th>
                                      <th class="sort white-space-nowrap align-middle ps-4" scope="col" style="width:350px;" data-sort="product">PRODUCT NAME</th>
                                      <th class="sort align-middle text-end ps-4" scope="col" data-sort="price" style="width:200px;">PRODUCT SKU</th>
                                      <!-- <th class="sort align-middle text-end ps-4" scope="col" data-sort="model" style="width:200px;">PRODUCT MODEL</th> -->
                                      <th class="sort align-middle ps-4" scope="col" data-sort="category" style="width:150px;">CATEGORY</th>
                                      <th class="sort align-middle ps-3" scope="col" data-sort="tags" style="width:250px;">SUB CATEGORY</th>
                                      <th class="sort align-middle text-center ps-4" scope="col" style="width:125px;">BRAND</th>
                                      <th class="sort align-middle ps-4" scope="col" data-sort="vendor" style="width:200px;">NO STOCK IN</th>
                                      <!-- <th class="sort align-middle ps-4" scope="col" data-sort="time" style="width:200px;">NO STOCK OUT</th> -->
                                      <th class="sort text-center align-middle pe-0 ps-4" scope="col">PRICE</th>
                                      <th class="sort text-center align-middle pe-0 ps-4" scope="col">STOCK STATUS</th>
                                    </tr>
                                  </thead>
                                  <tbody class="list" id="products-table-body"> {% for product in product %} <tr class="position-static" data-product-id="{{ product.id }}">
                                      <td class="fs--1 align-middle">
                                        <div class="form-check mb-0 fs-0">
                                          <input class="form-check-input upsell" type="checkbox" value="{{ product.id }}" data-bulk-select-row='{"product":"Fitbit Sense Advanced Smartwatch with Tools for Heart Health, Stress Management & Skin Temperature Trends, Carbon/Graphite, One Size (S & L Bands...","productImage":"/products/1.png","price":"$39","category":"Plants","tags":["Health","Exercise","Discipline","Lifestyle","Fitness"],"star":false,"vendor":"Blue Olive Plant sellers. Inc","publishedOn":"Nov 12, 10:45 PM"}'>
                                        </div>
                                      </td>
                                      <td class="align-middle white-space-nowrap py-0">
                                        <div class="border rounded-2">
                                          <img src="{{ MEDIA_PREFIX }}{{product.product_Image1}}" alt="" width="53" />
                                        </div>
                                      </td>
                                      <td class="product align-middle ps-4">
                                        <a class="fw-semi-bold line-clamp-3 mb-0" href="#!">{{product.product_name}}</a>
                                      </td>
                                      <td class="sku text-center white-space-nowrap text-end fw-bold text-700 ps-4">{{product.product_sku}}</td>
                                      <!-- <td class="model text-center white-space-nowrap text-end fw-bold text-700 ps-4">{{product.model_number}}</td> -->
                                      <td class="category text-center white-space-nowrap text-600 fs--1 ps-4 fw-semi-bold">{{product.category}}</td>
                                      <td class="sub_category text-center white-space-nowrap text-600 fs--1 ps-4 fw-semi-bold">{{product.sub_category}}</td>
                                      </td>
                                      <td class="brand text-center white-space-nowrap text-600 fs--1 ps-4 fw-semi-bold">{{product.brand}}</td>
                                      <td class="stackin text-center white-space-nowrap text-600 fs--1 ps-4 fw-semi-bold">{{product.number_of_stock_in}}</td>
                                      <!-- <td class="stackout text-center white-space-nowrap text-600 fs--1 ps-4 fw-semi-bold">{{product.number_of_stock_out}}</td> -->
                                      <td class="price text-center white-space-nowrap text-600 fs--1 ps-4 fw-semi-bold">{{product.price}}</td>
                                      <td class="stockstatus text-center white-space-nowrap text-600 fs--1 ps-4 fw-semi-bold">{{product.stock_status}}</td>
                                    </tr> {% endfor %} </tbody>
                                </table>
                              </div>
                              <div class="row align-items-center justify-content-between py-2 pe-0 fs--1">
                                <div class="col-auto d-flex">
                                  <p class="mb-0 d-none d-sm-block me-3 fw-semi-bold text-900" data-list-info="data-list-info"></p>
                                  <a class="fw-semi-bold" href="#!" data-list-view="*">View all <span class="fas fa-angle-right ms-1" data-fa-transform="down-1"></span>
                                  </a>
                                  <a class="fw-semi-bold d-none" href="#!" data-list-view="less">View Less <span class="fas fa-angle-right ms-1" data-fa-transform="down-1"></span>
                                  </a>
                                </div>
                                <div class="page_filter" id="page_filter">
                                  <nav class="d-flex justify-content-end" aria-label="Page navigation example"> {% if product.has_previous %} <a class="page-link" href="#" onclick="loadPage(event, {{ product.previous_page_number }})">«</a> {% if product.number > 3 %} <a class="page-link" href="?{{ request.GET.urlencode }}&page=1">1</a> {% if product.number > 4 %} <span class="page-link">...</span> {% endif %} {% endif %} {% endif %} {% for num in product.paginator.page_range %} {% if product.number == num %} <a class="page-link active" href="?page={{ num }}">{{ num }}</a> {% elif num > product.number|add:'-3' and num < product.number|add:'3' %} <a class="page-link" href="?{{ request.GET.urlencode }}&page={{ num }}">{{ num }}</a> {% endif %} {% endfor %} {% if product.has_next %} {% if product.number < product.paginator.num_pages|add:'-3' %} <span class="page-link">...</span>
                                    <a class="page-link" href="?{{ request.GET.urlencode }}&page={{ product.paginator.num_pages }}">{{ product.paginator.num_pages }}</a> {% elif product.number < product.paginator.num_pages|add:'-2' %} <a class="page-link" href="?{{ request.GET.urlencode }}&page={{ product.paginator.num_pages }}">{{ product.paginator.num_pages }}</a> {% endif %} <a class="page-link" href="#" onclick="loadPage(event, {{ product.next_page_number }})">»</a> {% endif %}
                                  </nav>
                                </div>
                              </div>
                              <!-- Add the pagination links -->
                              <!-- <div class="d-flex justify-content-end"><nav aria-label="Page navigation example"><ul class="pagination mb-0"> {% if product.has_previous %} <li class="page-item"><a class="page-link" href="?page={{ product.previous_page_number }}"><span class="fas fa-chevron-left"></span></a></li> {% endif %} {% for page_num in product.paginator.page_range %} <li class="page-item "><a class="page-link" href="?page={{ page_num }}">{{ page_num }}</a></li> {% endfor %} {% if product.has_next %} <li class="page-item"><a class="page-link pe-0" href="?page={{ product.next_page_number }}"><span class="fas fa-chevron-right"></span></a></li> {% endif %} </ul></nav></div> -->
                            </div>
                          </div>
                        </div>
                      </div>
                    </div>
                    <div id="response-upsell" style="display: {% if upsell_product %} block; {% else %} none;{% endif %}">
                      <div class="mx-n4 px-4 mx-lg-n6 px-lg-6 bg-white border-top border-bottom border-200 position-relative top-1 mt-3">
                        <div class="table-responsive scrollbar mx-n1 px-1">
                          <table class="table fs--1 mb-0">
                            <thead>
                              <tr>
                                <th class="sort white-space-nowrap align-middle fs--2" scope="col" style="width:70px;"></th>
                                <th class="sort white-space-nowrap align-middle fs--2" scope="col" style="width:70px;"></th>
                                <th class="sort white-space-nowrap align-middle ps-4" scope="col" style="width:350px;" data-sort="product">PRODUCT NAME</th>
                                <th class="sort align-middle text-end ps-4" scope="col" data-sort="sku" style="width:150px;">PRODUCT SKU</th>
                                <th class="sort align-middle text-end ps-4" scope="col" data-sort="model" style="width:150px;">PRODUCT MODEL</th>
                                <th class="sort align-middle ps-4" scope="col" data-sort="category" style="width:150px;">CATEGORY</th>
                                <th class="sort align-middle ps-3" scope="col" data-sort="tags" style="width:250px;">SUB CATEGORY</th>
                                <th class="sort align-middle fs-0 text-center ps-4" scope="col" style="width:125px;">BRAND</th>
                                <th class="sort align-middle ps-4" scope="col" data-sort="vendor" style="width:200px;">NO STOCK IN</th>
                                <th class="sort align-middle ps-4" scope="col" data-sort="time" style="width:50px;">NO STOCK OUT</th>
                                <th class="sort text-center align-middle pe-0 ps-4" scope="col">PRICE</th>
                                <th class="sort text-center align-middle pe-0 ps-4" scope="col">STOCK STATUS</th>
                              </tr>
                            </thead>
                            <tbody class="list" id="products-table-body1"> {% if upsell_product %} {% for upsell_product in upsell_product %} <tr class="position-static" data-product-id="{{ upsell_product.upsell_product__pk }}">
                                <td class="fs--1 align-middle">
                                  <div class="form-check mb-0 fs-0">
                                    <input class="form-check-input upsell_selected" type="checkbox" checked value="{{upsell_product.upsell_product__pk}}" data-bulk-select-row='{"product":"{{upsell_product.upsell_product__product_name}}", "sku":"{{upsell_product.upsell_product__product_sku}}"}'>
                                  </div>
                                </td>
                                <td>
                                  <img src="{{ MEDIA_PREFIX }}{{upsell_product.upsell_product__product_Image1}}" alt="{{upsell_product.upsell_product__product_name}}" width="53" />
                                </td>
                                <td class="product">
                                  <a class="fw-semi-bold line-clamp-3 mb-0" href="#!">{{upsell_product.upsell_product__product_name}}</a>
                                </td>
                                <td class="sku text-center white-space-nowrap text-end fw-bold text-700 ps-4">{{upsell_product.upsell_product__product_sku}}</td>
                                <td class="model text-center white-space-nowrap text-end fw-bold text-700 ps-4">{{upsell_product.upsell_product__model_number}}</td>
                                <td class="category text-center white-space-nowrap text-600 fs--1 ps-4 fw-semi-bold">{{upsell_product.upsell_product__category__name}}</td>
                                <td class="sub_category text-center white-space-nowrap text-600 fs--1 ps-4 fw-semi-bold">{{upsell_product.upsell_product__sub_category__name}}</td>
                                <td class="brand text-center white-space-nowrap text-600 fs--1 ps-4 fw-semi-bold">{{upsell_product.upsell_product__brand__name}}</td>
                                <td class="stackin text-center white-space-nowrap text-600 fs--1 ps-4 fw-semi-bold">{{upsell_product.upsell_product__number_of_stock_in}}</td>
                                <td class="stackout text-center white-space-nowrap text-600 fs--1 ps-4 fw-semi-bold">{{upsell_product.upsell_product__number_of_stock_out}}</td>
                                <td class="price text-center white-space-nowrap text-600 fs--1 ps-4 fw-semi-bold">{{upsell_product.upsell_product__price}}</td>
                                <td class="stockstatus text-center white-space-nowrap text-600 fs--1 ps-4 fw-semi-bold">{{upsell_product.upsell_product__stock_status}}</td>
                              </tr> {% endfor %} {% endif %} </tbody>
                          </table>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </form>
      </div> {% else %} {% for group in request.user.groups.all %} {% if perms.group.add_products %} <div class="content">
        <form class="mb-9" id="{% if product_data %}product-update{% else %}product-adding{% endif %}" method="post" enctype="multipart/form-data"> {% csrf_token %} <input type="hidden" id="product-id" value="{{ product_id }}">
          <div class="row g-3 flex-between-end mb-5">
            <div class="col-auto">
              <h2 class="mb-2">Add a product</h2>
              <h5 class="text-700 fw-semi-bold">Orders placed across your store</h5>
            </div>
            <div class="col-auto">
              <button class="btn btn-phoenix-secondary me-2 mb-2 mb-sm-0" type="button">Discard</button>
              <button class="btn btn-phoenix-primary me-2 mb-2 mb-sm-0" type="button">Save draft</button> {% if product_data %} {% if request.user.is_authenticated %} {% if perms.products.change_products %} <button class="btn btn-primary mb-2 mb-sm-0" id="update-product" type="submit">Update product</button> {% else %} {% for group in request.user.groups.all %} {% if perms.group.change_products %} <button class="btn btn-primary mb-2 mb-sm-0" id="update-product" type="submit">Update product</button> {% endif %} {% endfor %} {% endif %} {% endif %}
              <!-- <button class="btn btn-primary mb-2 mb-sm-0 d-none" id="add-product" type="submit">Publish product</button> --> {% else %} {% if request.user.is_authenticated %} {% if perms.products.add_products %} <button class="btn btn-primary mb-2 mb-sm-0" id="add-product" type="submit">Publish product</button> {% else %} {% for group in request.user.groups.all %} {% if perms.group.add_products %} <button class="btn btn-primary mb-2 mb-sm-0" id="add-product" type="submit">Publish product</button> {% endif %} {% endfor %} {% endif %} {% endif %} {% endif %}
            </div>
          </div>
          <h4 class="mb-3">Product Name</h4>
          <div class="row g-5">
            <div class="col-12 col-xl-8">
              <input class="form-control mb-5 required-field" name="product_name" type="text" placeholder="Write Name here..." data-parsley-group="product" required data-parsley-required-message="☒ Please enter Product Name." value="{{product_data.product_name}}" />
              <div class="mb-6">
                <h4 class="mb-3"> Product Description</h4>
                <textarea class="tinymce" id="description" name="description" data-tinymce='{"height":"15rem","placeholder":"Write a description here..."}'>{{product_data.description}}</textarea>
              </div>
              <div class="mb-6">
                <h4 class="mb-3"> Product Short Description</h4>
                <textarea class="tinymce" id="short_description" name="short_description" data-tinymce='{"height":"15rem","placeholder":"Write a description here..."}'>{{product_data.short_description}}</textarea>
              </div>
              <h4 class="mb-3">Product images</h4>
              <div class="dropzone dropzone-multiple p-0 mb-5" id="my-awesome-dropzone" data-dropzone="data-dropzone" data-parsley-dropzone data-parsley-trigger="change">
                <div class="fallback">
                  <input class="required-field" name="file" type="file" id="product_images" multiple="multiple" required />
                </div>
                <div class="d-flex"> {% for image in product_images %} <div class="border bg-white rounded-3 d-flex flex-center position-relative me-2 mb-2" style="height:80px;width:80px;">
                    <img class="dz-image" src="{{ image.image.url }}" alt="{{ image.image}}" data-dz-thumbnail="data-dz-thumbnail" />
                    <a class="dz-remove text-400" href="#!" data-dz-remove="data-dz-remove" data-image-id="{{ image.id }}">
                      <span data-feather="x"></span>
                    </a>
                  </div> {% endfor %} </div>
                <div class="dz-preview d-flex flex-wrap">
                  <div class="border bg-white rounded-3 d-flex flex-center position-relative me-2 mb-2" style="height:80px;width:80px;">
                    <img class="dz-image" src="" alt="..." data-dz-thumbnail="data-dz-thumbnail" />
                    <a class="dz-remove text-400" href="#!" data-dz-remove="data-dz-remove">
                      <span data-feather="x"></span>
                    </a>
                  </div>
                </div>
                <div class="dz-message text-600" data-dz-message="data-dz-message"> Drag your photo here <span class="text-800">or</span>
                  <button class="btn btn-link p-0" type="button">Browse from device</button>
                  <br />
                  <img class="mt-3 me-2" src="/../../../static/assets/img/icons/image-icon.png" width="40" alt="" />
                </div>
              </div>
              <h4 class="mb-3">Inventory</h4>
              <div class="row g-0 border-top border-bottom border-300">
                <div class="col-sm-4">
                  <div class="nav flex-sm-column border-bottom border-bottom-sm-0 border-end-sm border-300 fs--1 vertical-tab h-100 justify-content-between" role="tablist" aria-orientation="vertical">
                    <a class="nav-link border-end border-end-sm-0 border-bottom-sm border-300 text-center text-sm-start cursor-pointer outline-none d-sm-flex align-items-sm-center active" id="pricingTab" data-bs-toggle="tab" data-bs-target="#pricingTabContent" role="tab" aria-controls="pricingTabContent" aria-selected="true">
                      <span class="me-sm-2 fs-4 nav-icons" data-feather="tag"></span>
                      <span class="d-none d-sm-inline">Pricing</span>
                    </a>
                    <a class="nav-link border-end border-end-sm-0 border-bottom-sm border-300 text-center text-sm-start cursor-pointer outline-none d-sm-flex align-items-sm-center" id="restockTab" data-bs-toggle="tab" data-bs-target="#restockTabContent" role="tab" aria-controls="restockTabContent" aria-selected="false">
                      <span class="me-sm-2 fs-4 nav-icons" data-feather="package"></span>
                      <span class="d-none d-sm-inline">Restock</span>
                    </a>
                    
                    <a class="nav-link border-end border-end-sm-0 border-bottom-sm border-300 text-center text-sm-start cursor-pointer outline-none d-sm-flex align-items-sm-center" id="attributesTab" data-bs-toggle="tab" data-bs-target="#attributesTabContent" role="tab" aria-controls="attributesTabContent" aria-selected="false">
                      <span class="me-sm-2 fs-4 nav-icons" data-feather="sliders"></span>
                      <span class="d-none d-sm-inline">Measurement</span>
                    </a>
                    <a class="nav-link border-end border-end-sm-0 border-bottom-sm border-300 text-center text-sm-start cursor-pointer outline-none d-sm-flex align-items-sm-center" id="productsTab" data-bs-toggle="tab" data-bs-target="#productsTabContent" role="tab" aria-controls="productsTabContent" aria-selected="false">
                      <span class="me-sm-2 fs-4 nav-icons" data-feather="globe"></span>
                      <span class="d-none d-sm-inline">SEO Settings</span>
                    </a>
                  </div>
                </div>
                <div class="col-sm-8">
                  <div class="tab-content py-3 ps-sm-4 h-100">
                    <div class="tab-pane fade show active" id="pricingTabContent" role="tabpanel">
                      <h4 class="mb-3 d-sm-none">Pricing</h4>
                      <div class="row g-3">
                        <div class="col-12 col-lg-6">
                          <h5 class="mb-2 text-1000">Special price</h5>
                          <input class="form-control" type="text" name="special_price" data-parsley-type="number" required data-parsley-required-message="☒ Please enter Special Price." placeholder="AED" value="{% if product_data.special_price %}{{product_data.special_price}}{% endif %}" />
                        </div>
                        <div class="col-12 col-lg-6">
                          <h5 class="mb-2 text-1000">price</h5>
                          <input class="form-control required-field" type="text" name="price" placeholder="AED" data-parsley-group="product" data-parsley-type="number" required data-parsley-required-message="☒ Please enter Price." value="{{product_data.price}}" />
                        </div>
                        <!-- <div class="col-12 col-lg-6">
                          <h5 class="mb-2 text-1000">Warranty conditions</h5>
                          <input class="form-control" type="text" name="Warranty" placeholder="Warranty" value="{% if product_data.warranty_conditions %}{{product_data.warranty_conditions}}{% endif %}" />
                        </div> -->
                        <div class="col-12 col-lg-6">
                          <h5 class="mb-2 text-1000">Weight</h5>
                          <input class="form-control" type="text" name="Weight" placeholder="Weight" value="{% if product_data.weight %}{{ product_data.weight }}{% endif %}" />
                        </div>
                      </div>
                    </div>
                    <div class="tab-pane fade h-100" id="restockTabContent" role="tabpanel" aria-labelledby="restockTab">
                      <div class="d-flex flex-column h-100">
                        <h5 class="mb-3 text-1000">Add to Stock</h5>
                        <div class="row g-3 flex-1 mb-4">
                          <div class="col-sm-7">
                            <input class="form-control required-field" type="number" name="stock" placeholder="Quantity" data-parsley-group="product" data-parsley-type="number" required data-parsley-required-message="☒ Please enter Available Stock." value="{{product_data.number_of_stock_in}}" />
                          </div>
                          <div class="col-sm-7">
                            <div class="mb-4">
                              <div class="d-flex flex-wrap mb-2">
                                <h5 class="mb-0 text-1000 me-2">Stock Status</h5>
                              </div>
                              <select class="form-select mb-3 required-field" name="stock_status" aria-label="category" data-parsley-group="product" required data-parsley-required-message="☒ Please Select Stock Status.">
                                <option value="Instock" {% if product_data.stock_status == 'Instock'%} selected {% endif %}>Instock</option>
                                <option value="Out of Stock" {% if product_data.stock_status == 'Out of Stock'%} selected {% endif %}>Out of Stock</option>
                              </select>
                            </div>
                          </div>
                        </div>
                      </div>
                    </div>
                    <div class="tab-pane fade" id="productsTabContent" role="tabpanel" aria-labelledby="productsTab">
                      <div class="row g-3">
                        <div class="col-12 col-lg-6">
                          <h5 class="mb-2 text-1000">Title</h5>
                          <input class="form-control required-field" type="text" name="sku" placeholder="SKU" data-parsley-group="product" required data-parsley-required-message="☒ Please enter Product SKU." value="{{product_data.product_sku}}" />
                        </div>
                        <div class="col-12 col-lg-6">
                          <h5 class="mb-2 text-1000">Keyword</h5>
                          <input class="form-control required-field" type="text" name="model" placeholder="Model" data-parsley-group="product" required data-parsley-required-message="☒ Please enter Product Model Number." value="{{product_data.model_number}}" />
                        </div>
                      </div>
                    </div>
                    <div class="tab-pane fade" id="attributesTabContent" role="tabpanel" aria-labelledby="attributesTab">
                      <h5 class="mb-3 text-1000">Attributes</h5>
                      <div class="mb-3">
                        <div class="ps-4 align-items-center mb-3">
                          <select class="form-select ps-4 attributes" name="attribute" id="Attributes-res" multiple="multiple" data-options='{"removeItemButton":true,"placeholder":true}'>
                            <option value="" disabled selected>select Attribute</option> {% for attribute in attribute %} <option value="{{attribute.attribute}}">{{attribute.attribute}}</option> {% endfor %}
                          </select>
                          <!-- <button class="btn btn-outline-primary me-1 mb-1 flex-grow-1" type="button" id="addAttributeBtn">Add</button> -->
                        </div>
                        <button class="btn btn-primary btn-sm me-1 mb-1 float-end" type="button" id="addAttributeBtn">Add attributes</button>
                        <button class="btn btn-primary btn-sm me-1 mb-1 float-end" type="button" data-bs-toggle="modal" data-bs-target="#verticallyCentered">Add New</button>
                        <div class="modal fade" id="verticallyCentered" tabindex="-1" aria-labelledby="verticallyCenteredModalLabel" aria-hidden="true">
                          <div class="modal-dialog modal-dialog-centered">
                            <div class="modal-content">
                              <div class="modal-header">
                                <h5 class="modal-title" id="verticallyCenteredModalLabel">New Attribute</h5>
                                <button class="btn p-1" type="button" data-bs-dismiss="modal" aria-label="Close">
                                  <span class="fas fa-times fs--1"></span>
                                </button>
                              </div>
                              <div class="modal-body">
                                <div class="mb-3 row">
                                  <label class="col-sm-2 col-form-label" for="inputAttribute">Attribute</label>
                                  <div class="col-sm-10">
                                    <input class="form-control" id="inputAttribute" type="text" />
                                  </div>
                                </div>
                                <div class="mb-3 row">
                                  <label class="col-sm-2 col-form-label" for="inputSlot">Slot Position</label>
                                  <div class="col-sm-10">
                                    <input class="form-control" id="inputSlot" type="text" />
                                  </div>
                                </div>
                                <div class="form-check form-switch">
                                  <input class="form-check-input" id="activeAttr" type="checkbox" checked="" />
                                  <label class="form-check-label" for="activeAttr">Active</label>
                                </div>
                              </div>
                              <div class="modal-footer">
                                <button class="btn btn-primary" type="button" id="addNewAttributeBtn">Save</button>
                                <button class="btn btn-outline-primary" type="button" data-bs-dismiss="modal">Cancel</button>
                              </div>
                            </div>
                          </div>
                        </div>
                      </div>
                      <div id="selectedAttributeValueSection" style="display: none;">
                        <!-- <h5 id="selectedAttributeValue" class="text-dark"></h5> -->
                        <div class="table-responsive scrollbar">
                          <div id="tablesContainer"></div>
                        </div>
                        <!-- Add Attribute Value Modal -->
                        <div class="modal fade" id="addAttributeValueModal" tabindex="-1" aria-labelledby="addAttributeValueModalLabel" aria-hidden="true">
                          <div class="modal-dialog modal-dialog-centered">
                            <div class="modal-content">
                              <div class="modal-header">
                                <h5 class="modal-title" id="addAttributeValueModalLabel">Add Attribute Value</h5>
                                <button class="btn p-1" type="button" data-bs-dismiss="modal" aria-label="Close">
                                  <span class="fas fa-times fs--1"></span>
                                </button>
                              </div>
                              <div class="modal-body">
                                <div class="mb-3 row">
                                  <label class="col-sm-2 col-form-label" for="attributeValueAttribute">Attribute</label>
                                  <div class="col-sm-10">
                                    <input class="form-control" id="attributeValueAttribute" type="text" readonly>
                                  </div>
                                </div>
                                <div class="mb-3 row">
                                  <label class="col-sm-2 col-form-label" for="inputAttributeValue">Value</label>
                                  <div class="col-sm-10">
                                    <input class="form-control" id="inputAttributeValue" type="text" required>
                                  </div>
                                </div>
                                <!-- <div class="mb-3 row"><label class="col-sm-2 col-form-label" for="inputAttributeValueSlot">Slot Position</label><div class="col-sm-10"><input class="form-control" id="inputAttributeValueSlot" type="text" required></div></div> -->
                                <div class="form-check form-switch">
                                  <input class="form-check-input" id="activeAttributeValue" type="checkbox" checked>
                                  <label class="form-check-label" for="activeAttributeValue">Active</label>
                                </div>
                              </div>
                              <div class="modal-footer">
                                <button class="btn btn-primary" type="button" id="addNewAttributeValueBtn">Save</button>
                                <button class="btn btn-outline-primary" type="button" data-bs-dismiss="modal">Cancel</button>
                              </div>
                            </div>
                          </div>
                        </div>
                      </div>
                      <!-- <button class="btn btn-primary btn-sm me-1 mb-1" type="button">Save attributes</button>                       -->
                    </div>
                  </div>
                </div>
              </div>
            </div>
            <div class="col-12 col-xl-4">
              <div class="row g-2">
                <div class="col-12 col-xl-12">
                  <div class="card mb-3">
                    <div class="card-body">
                      <h4 class="card-title mb-4">Organize</h4>
                      <div class="row g-3">
                        <div class="col-12 col-sm-6 col-xl-12">
                          <div class="mb-4">
                            <div class="d-flex justify-content-between flex-wrap mb-4">
                              <h5 class="mb-0 text-1000 me-2 align-self-center">Category</h5>
                              <!-- <a class="fw-bold fs--1" href="#!">Add new category</a> -->
                              <a class="fw-bold fs--1" href="" data-bs-toggle="modal" data-bs-target="#Category">Add category</a>
                              <div class="modal fade" id="Category" tabindex="-1" aria-labelledby="scrollingLongModalLabel2" aria-hidden="true">
                                <div class="modal-dialog modal-dialog-scrollable">
                                  <div class="modal-content">
                                    <div class="modal-header">
                                      <h5 class="modal-title" id="scrollingLongModalLabel2">Add Category</h5>
                                      <button class="btn p-1" type="button" data-bs-dismiss="modal" aria-label="Close">
                                        <span class="fas fa-times fs--1"></span>
                                      </button>
                                    </div>
                                    <div class="modal-body">
                                      <form method="post" id="category-form"  enctype="multipart/form-data"> {% csrf_token %} <div class="mb-6">
                                          <h4 class="mb-3">Category Name</h4>
                                          <input class="form-control mb-5" name="name" type="text" placeholder="Write Name here..." />
                                        </div>
                                        <div class="mb-6">
                                          <h4 class="mb-3"> Category Description</h4>
                                          <textarea class="tinymce" id="Description" name="Description" data-tinymce='{"height":"15rem","placeholder":"Write a description here..."}'></textarea>
                                        </div>
                                        <div class="mb-6">
                                          <h4 class="mb-3">Category image</h4>
                                          <input class="form-control" type="file" id="img" name="image" accept="image/*">
                                        </div>
                                        <div class="mb-6">
                                          <h4 class="mb-3">Page Title</h4>
                                          <input class="form-control mb-5" name="page_title" type="text" placeholder="Write title here..." />
                                        </div>
                                        <div class="mb-6">
                                          <h4 class="mb-3">Meta keyword</h4>
                                          <textarea class="tinymce" id="meta_keyword" name="meta_keyword" data-tinymce='{"height":"15rem","placeholder":"Write a description here..."}'></textarea>
                                        </div>
                                        <div class="mb-6">
                                          <h4 class="mb-3">Meta Description</h4>
                                          <textarea class="tinymce" id="meta_Description" name="meta_Description" data-tinymce='{"height":"15rem","placeholder":"Write a description here..."}'></textarea>
                                        </div>
                                        <div class="mb-6">
                                          <h4 class="mb-3">Slot Position</h4>
                                          <input class="form-control mb-5" name="Slot_Position" type="number" placeholder="Write Name here..." />
                                        </div>
                                        <div class="form-check mb-6">
                                          <label class="form-check-label text-900 fs-0" for="Activestatus">Is Active</label>
                                          <input class="form-check-input" id="Activestatus" name="is_Active" type="checkbox" />
                                        </div>
                                        <div class="form-check mb-6">
                                          <label class="form-check-label text-900 fs-0" for="Navigationstatus">Include In Navogation Menu</label>
                                          <input class="form-check-input" id="Navigationstatus" name="Include_In_Navogation_Menu" type="checkbox" />
                                        </div>
                                        <div class="mb-6">
                                          <button class="btn btn-primary text-sm-start" id="add-cate" type="button">Save</button>
                                          <button class="btn btn-outline-primary" type="button" data-bs-dismiss="modal">Cancel</button>
                                        </div>
                                      </form>
                                    </div>
                                  </div>
                                </div>
                              </div>
                            </div>
                            <select class="form-select mb-3 required-field" id="categorySelect" name="category" aria-label="category" data-parsley-group="product" required data-parsley-required-message="☒ Please select Category.">
                              <option value="" disabled selected>select category</option> {% for category in Categorys %}
                              <!-- <option value="{{ category.name }}" {% if category.name == product_data.category %}selected{% endif %}>{{ category.name }}</option> -->
                              <option value="{{ category.name }}" {% if category.name|lower == product_data.category|lower %}selected{% endif %}>{{ category.name }}</option> {% endfor %}
                            </select>
                          </div>
                        </div>
                        <div class="col-12 col-sm-6 col-xl-12">
                          <div class="mb-4">
                            <div class="d-flex justify-content-between flex-wrap mb-2">
                              <h5 class="mb-0 text-1000 me-2">Sub Category</h5>
                              <a class="fw-bold fs--1" href="" data-bs-toggle="modal" data-bs-target="#subcategory">Add Sub Category</a>
                              <div class="modal fade" id="subcategory" tabindex="-1" aria-labelledby="scrollingLongModalLabel2" aria-hidden="true">
                                <div class="modal-dialog modal-dialog-scrollable">
                                  <div class="modal-content">
                                    <div class="modal-header">
                                      <h5 class="modal-title" id="scrollingLongModalLabel2">Add Sub Category</h5>
                                      <button class="btn p-1" type="button" data-bs-dismiss="modal" aria-label="Close">
                                        <span class="fas fa-times fs--1"></span>
                                      </button>
                                    </div>
                                    <div class="modal-body">
                                      <form method="post" id="    " enctype="multipart/form-data"> {% csrf_token %} <div class="mb-6">
                                          <h4 class="mb-3">Main Category</h4>
                                          <select class="form-select mb-3" id="categorySelect" name="main_Category" aria-label="category" data-parsley-group="product" required data-parsley-required-message="☒ Please select Category.">
                                            <option value="" selected disabled>select category</option> {% for Categorys in Categorys %} <option value="{{Categorys.name}}">{{Categorys.name}}</option> {% endfor %}
                                          </select>
                                        </div>
                                        <div class="mb-6">
                                          <h4 class="mb-3">SubCategory Name</h4>
                                          <input class="form-control mb-5" name="name" type="text" placeholder="Write Name here..." />
                                        </div>
                                        <div class="mb-6">
                                          <h4 class="mb-3"> SubCategory Description</h4>
                                          <textarea class="tinymce" id="Description" name="Description" data-tinymce='{"height":"15rem","placeholder":"Write a description here..."}'></textarea>
                                        </div>
                                        <div class="mb-6">
                                          <h4 class="mb-3">SubCategory image</h4>
                                          <input class="form-control" type="file" id="img" name="image" accept="image/*">
                                          <!-- <div class="dropzone dropzone-multiple p-0 mb-5" id="my-awesome-dropzone" data-dropzone="data-dropzone"><div class="fallback"><input name="brand_img" type="file" id="subcategory_img"/></div><div class="dz-preview d-flex flex-wrap"><div class="border bg-white rounded-3 d-flex flex-center position-relative me-2 mb-2" style="height:80px;width:80px;"><img class="dz-image" src="{{ MEDIA_PREFIX }}{{brand_value.brand_img}}" alt="..." data-dz-thumbnail="data-dz-thumbnail" /><a class="dz-remove text-400" href="#!" data-dz-remove="data-dz-remove"><span data-feather="x"></span></a></div></div><div class="dz-message text-600" data-dz-message="data-dz-message"> Drag your photo here <span class="text-800">or</span><button class="btn btn-link p-0" type="button">Browse from device</button><br /><img class="mt-3 me-2" src="/../../../static/assets/img/icons/image-icon.png" width="40" alt="" /></div></div> -->
                                        </div>
                                        <div class="mb-6">
                                          <h4 class="mb-3">Page Title</h4>
                                          <input class="form-control mb-5" name="page_title" type="text" placeholder="Write title here..." />
                                        </div>
                                        <div class="mb-6">
                                          <h4 class="mb-3">Meta keyword</h4>
                                          <textarea class="tinymce" id="meta_keyword" name="meta_keyword" data-tinymce='{"height":"15rem","placeholder":"Write a description here..."}'></textarea>
                                        </div>
                                        <div class="mb-6">
                                          <h4 class="mb-3">Meta Description</h4>
                                          <textarea class="tinymce" id="meta_Description" name="meta_Description" data-tinymce='{"height":"15rem","placeholder":"Write a description here..."}'></textarea>
                                        </div>
                                        <div class="mb-6">
                                          <h4 class="mb-3">Slot Position</h4>
                                          <input class="form-control mb-5" name="Slot_Position" type="number" placeholder="Write Name here..." />
                                        </div>
                                        <div class="form-check mb-6">
                                          <label class="form-check-label text-900 fs-0" for="Activestatus">Is Active</label>
                                          <input class="form-check-input" id="Activestatus" name="is_Active" type="checkbox" />
                                        </div>
                                        <div class="form-check mb-6">
                                          <label class="form-check-label text-900 fs-0" for="Navigationstatus">Include In Navogation Menu</label>
                                          <input class="form-check-input" id="Navigationstatus" name="Include_In_Navogation_Menu" type="checkbox" />
                                        </div>
                                        <div class="mb-6">
                                          <button class="btn btn-primary text-sm-start" id="add-subcat" type="button">Save</button>
                                          <button class="btn btn-outline-primary" type="button" data-bs-dismiss="modal">Cancel</button>
                                        </div>
                                      </form>
                                    </div>
                                  </div>
                                </div>
                              </div>
                            </div> {% if product_data %} <select class="form-select mb-3 required-field" id="subcategorySelect" name="subcategory" aria-label="subcategory" data-parsley-group="product" required data-parsley-required-message="☒ Please select Subcategory.">
                              <option value="" disabled>select subcategory</option> {% for subCategory in subCategories %} <option value="{{ subCategory.name }}" {% if subCategory.name|lower == product_data.sub_category|lower %}selected{% endif %}>{{ subCategory.name }}</option> {% endfor %}
                            </select> {% else %} <select class="form-select mb-3 required-field" id="subcategorySelect" name="subcategory" aria-label="subcategory" data-parsley-group="product" required data-parsley-required-message="☒ Please select SubCategory.">
                              <option value="" selected disabled>select subcategory</option>
                            </select> {% endif %}
                          </div>
                        </div>
                        <div class="col-12 col-sm-6 col-xl-12">
                          <div class="d-flex justify-content-between flex-wrap mb-2">
                            <h5 class="mb-0 text-1000 me-2">Brand</h5>
                            <a class="fw-bold fs--1 lh-sm" href="" data-bs-toggle="modal" data-bs-target="#Brand">Add Brand</a>
                            <div class="modal fade" id="Brand" tabindex="-1" aria-labelledby="scrollingLongModalLabel2" aria-hidden="true">
                              <div class="modal-dialog modal-dialog-scrollable">
                                <div class="modal-content">
                                  <div class="modal-header">
                                    <h5 class="modal-title" id="scrollingLongModalLabel2">Add Brand</h5>
                                    <button class="btn p-1" type="button" data-bs-dismiss="modal" aria-label="Close">
                                      <span class="fas fa-times fs--1"></span>
                                    </button>
                                  </div>
                                  <div class="modal-body">
                                    <form method="post" id="brand-form" enctype="multipart/form-data"> {% csrf_token %}
                                      </select></div><div class="mb-6"><h4 class="mb-3">subcategory</h4><select class="form-select mb-3" id="subcategorySelect" name="subcategory" aria-label="subcategory" data-parsley-group="product" required data-parsley-required-message="☒ Please select SubCategory."><option value=""selected disabled>select subcategory</option></select></div>        -->
                                      <div class="mb-6">
                                        <h4 class="mb-3">Brand Name</h4>
                                        <input class="form-control mb-5" name="name" type="text" placeholder="Write Name here..." />
                                      </div>
                                      <div class="mb-6">
                                        <h4 class="mb-3">Brand image</h4>
                                        <input class="form-control" type="file" id="img" name="brand_img" accept="image/*">
                                      </div>
                                      <div class="form-check mb-6">
                                        <label class="form-check-label text-900 fs-0" for="Activestatus">Active</label>
                                        <input class="form-check-input" id="Activestatus" name="Active" type="checkbox" />
                                      </div>
                                      <div class="mb-6">
                                        <button class="btn btn-primary text-sm-start" id="add-brand" type="button">Save</button>
                                        <button class="btn btn-outline-primary" type="button" data-bs-dismiss="modal">Cancel</button>
                                      </div>
                                    </form>
                                  </div>
                                </div>
                              </div>
                            </div>
                          </div> {% if product_data %} <select class="form-select required-field" aria-label="Brand" id="brand" name="brand" data-parsley-group="product" required data-parsley-required-message="☒ Please select Brand.">
                            <option value="" disabled>select Brand</option> {% for brand_option in brand %} <option value="{{ brand_option.name }}" {% if brand_option.name|lower == product_data.brand|lower %}selected{% endif %}>{{ brand_option.name }}</option> {% endfor %}
                          </select> {% else %} <select class="form-select required-field" aria-label="Brand" id="brand" name="brand" data-parsley-group="product" required data-parsley-required-message="☒ Please select Brand.">
                            <option value="" disabled selected>select Brand</option>
                          </select> {% endif %}
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
            <div class="col-12">
              <div class="accordion" id="accordionExample">
                <div class="accordion-item border-top border-300">
                  <h2 class="accordion-header" id="headingOne">
                    <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseOne" aria-expanded="false" aria-controls="collapseOne"> Up-Sell Products </button>
                  </h2>
                  <div class="accordion-collapse collapse" id="collapseOne" aria-labelledby="headingOne" data-bs-parent="#accordionExample" style="">
                    <div class="d-flex justify-content-between align-items-center">
                      <div class="accordion-body pt-0"> An up-sell item is offered to the customer as a pricier or higher-quality alternative to the product the customer is looking at. </div>
                      <div>
                        <button class="btn btn-primary mb-1" type="button" data-bs-toggle="offcanvas" data-bs-target="#offcanvasRight" aria-controls="offcanvasRight">Add Up-Sell Products</button>
                        <div class="offcanvas offcanvas-end w-75 p-5" id="offcanvasRight" tabindex="-1" aria-labelledby="offcanvasRightLabel">
                          <div class="offcanvas-header mb-3">
                            <h5 id="offcanvasRightLabel">Add Up-Sell Products</h5>
                            <button class="btn-close text-reset" type="button" data-bs-dismiss="offcanvas" aria-label="Close"></button>
                          </div>
                          <div class="bg-light mb-3">
                            <div class="text-end p-4">
                              <div class="col-auto">
                                <!-- <button class="btn btn-phoenix-secondary me-2 mb-2 mb-sm-0" type="button">Discard</button> -->
                                <button class="btn btn-phoenix-primary me-2 mb-2 mb-sm-0" data-bs-dismiss="offcanvas" type="button">Cancel</button> {% if product_data %} <button class="btn btn-primary mb-2 mb-sm-0" id="update-upsell" type="button">Update Selected products</button>
                                <button class="btn btn-primary mb-2 mb-sm-0 d-none" id="add-upsell" type="button">Add Selected products</button> {% else %} <button class="btn btn-primary mb-2 mb-sm-0" id="add-upsell" type="button">Add Selected products</button> {% endif %}
                              </div>
                            </div>
                          </div>
                          <div class="mb-4">
                            <div class="row g-3">
                              <div class="col">
                                <div class="search-box">
                                  <form class="position-relative" data-bs-toggle="search" data-bs-display="static">
                                    <input class="form-control search-input search" type="search" placeholder="Search products" aria-label="Search" />
                                    <span class="fas fa-search search-box-icon"></span>
                                  </form>
                                </div>
                              </div>
                              <div class="col">
                                <select class="form-select filter-dropdown" data-filter="category" aria-label="Default select example">
                                  <option selected="" disabled>select category</option> {% for categories in Categorys %} <option value="{{categories.name}}">{{categories.name}}</option> {% endfor %}
                                </select>
                              </div>
                              <div class="col">
                                <select class="form-select filter-dropdown" data-filter="subcategory" aria-label="Default select example">
                                  <option selected="" disabled>select Sub category</option> {% for subCategories in subCategories %} <option value="{{subCategories.name}}">{{subCategories.name}}</option> {% endfor %}
                                </select>
                              </div>
                              <div class="col">
                                <select class="form-select filter-dropdown" data-filter="brand" aria-label="Default select example">
                                  <option selected="" disabled>select Brand</option> {% for brand in brand %} <option value="{{brand.name}}">{{brand.name}}</option> {% endfor %}
                                </select>
                              </div>
                              <div class="col">
                                <select class="form-select filter-dropdown" data-filter="status" aria-label="Default select example">
                                  <option selected="" disabled>select Status</option>
                                  <option value="Instock">Instock</option>
                                  <option value="Out of Stock">Out of Stock</option>
                                </select>
                              </div>
                            </div>
                          </div>
                          <div class="offcanvas-body">
                            <div class="mx-n4 px-4 mx-lg-n6 px-lg-6 bg-white border-top border-bottom border-200 position-relative top-1">
                              <div class="table-responsive scrollbar mx-n1 px-1">
                                <table class="table fs--1 mb-0">
                                  <thead>
                                    <tr>
                                      <th class="white-space-nowrap fs--1 align-middle ps-0" style="max-width:20px; width:18px;">
                                        <div class="form-check mb-0 fs-0">
                                          <input class="form-check-input" id="checkbox-bulk-products-select" type="checkbox" data-bulk-select='{"body":"products-table-body"}' />
                                        </div>
                                      </th>
                                      <th class="sort white-space-nowrap align-middle fs--2" scope="col" style="width:70px;"></th>
                                      <th class="sort white-space-nowrap align-middle ps-4" scope="col" style="width:350px;" data-sort="product">PRODUCT NAME</th>
                                      <th class="sort align-middle text-end ps-4" scope="col" data-sort="price" style="width:200px;">PRODUCT SKU</th>
                                      <th class="sort align-middle text-end ps-4" scope="col" data-sort="model" style="width:200px;">PRODUCT MODEL</th>
                                      <th class="sort align-middle ps-4" scope="col" data-sort="category" style="width:150px;">CATEGORY</th>
                                      <th class="sort align-middle ps-3" scope="col" data-sort="tags" style="width:250px;">SUB CATEGORY</th>
                                      <th class="sort align-middle text-center ps-4" scope="col" style="width:125px;">BRAND</th>
                                      <th class="sort align-middle ps-4" scope="col" data-sort="vendor" style="width:200px;">NO STOCK IN</th>
                                      <th class="sort align-middle ps-4" scope="col" data-sort="time" style="width:200px;">NO STOCK OUT</th>
                                      <th class="sort text-center align-middle pe-0 ps-4" scope="col">PRICE</th>
                                      <th class="sort text-center align-middle pe-0 ps-4" scope="col">STOCK STATUS</th>
                                    </tr>
                                  </thead>
                                  <tbody class="list" id="products-table-body"> {% for product in product %} <tr class="position-static" data-product-id="{{ product.id }}">
                                      <td class="fs--1 align-middle">
                                        <div class="form-check mb-0 fs-0">
                                          <input class="form-check-input upsell" type="checkbox" value="{{ product.id }}" data-bulk-select-row='{"product":"Fitbit Sense Advanced Smartwatch with Tools for Heart Health, Stress Management & Skin Temperature Trends, Carbon/Graphite, One Size (S & L Bands...","productImage":"/products/1.png","price":"$39","category":"Plants","tags":["Health","Exercise","Discipline","Lifestyle","Fitness"],"star":false,"vendor":"Blue Olive Plant sellers. Inc","publishedOn":"Nov 12, 10:45 PM"}'>
                                        </div>
                                      </td>
                                      <td class="align-middle white-space-nowrap py-0">
                                        <div class="border rounded-2">
                                          <img src="{{ MEDIA_PREFIX }}{{product.product_Image1}}" alt="" width="53" />
                                        </div>
                                      </td>
                                      <td class="product align-middle ps-4">
                                        <a class="fw-semi-bold line-clamp-3 mb-0" href="#!">{{product.product_name}}</a>
                                      </td>
                                      <td class="sku text-center white-space-nowrap text-end fw-bold text-700 ps-4">{{product.product_sku}}</td>
                                      <td class="model text-center white-space-nowrap text-end fw-bold text-700 ps-4">{{product.model_number}}</td>
                                      <td class="category text-center white-space-nowrap text-600 fs--1 ps-4 fw-semi-bold">{{product.category}}</td>
                                      <td class="sub_category text-center white-space-nowrap text-600 fs--1 ps-4 fw-semi-bold">{{product.sub_category}}</td>
                                      </td>
                                      <td class="brand text-center white-space-nowrap text-600 fs--1 ps-4 fw-semi-bold">{{product.brand}}</td>
                                      <td class="stackin text-center white-space-nowrap text-600 fs--1 ps-4 fw-semi-bold">{{product.number_of_stock_in}}</td>
                                      <td class="stackout text-center white-space-nowrap text-600 fs--1 ps-4 fw-semi-bold">{{product.number_of_stock_out}}</td>
                                      <td class="price text-center white-space-nowrap text-600 fs--1 ps-4 fw-semi-bold">{{product.price}}</td>
                                      <td class="stockstatus text-center white-space-nowrap text-600 fs--1 ps-4 fw-semi-bold">{{product.stock_status}}</td>
                                    </tr> {% endfor %} </tbody>
                                </table>
                              </div>
                              <div class="row align-items-center justify-content-between py-2 pe-0 fs--1">
                                <div class="col-auto d-flex">
                                  <p class="mb-0 d-none d-sm-block me-3 fw-semi-bold text-900" data-list-info="data-list-info"></p>
                                  <a class="fw-semi-bold" href="#!" data-list-view="*">View all <span class="fas fa-angle-right ms-1" data-fa-transform="down-1"></span>
                                  </a>
                                  <a class="fw-semi-bold d-none" href="#!" data-list-view="less">View Less <span class="fas fa-angle-right ms-1" data-fa-transform="down-1"></span>
                                  </a>
                                </div>
                                <div class="page_filter" id="page_filter">
                                  <nav class="d-flex justify-content-end" aria-label="Page navigation example"> {% if product.has_previous %} <a class="page-link" href="#" onclick="loadPage(event, {{ product.previous_page_number }})">«</a> {% if product.number > 3 %} <a class="page-link" href="?{{ request.GET.urlencode }}&page=1">1</a> {% if product.number > 4 %} <span class="page-link">...</span> {% endif %} {% endif %} {% endif %} {% for num in product.paginator.page_range %} {% if product.number == num %} <a class="page-link active" href="?page={{ num }}">{{ num }}</a> {% elif num > product.number|add:'-3' and num < product.number|add:'3' %} <a class="page-link" href="?{{ request.GET.urlencode }}&page={{ num }}">{{ num }}</a> {% endif %} {% endfor %} {% if product.has_next %} {% if product.number < product.paginator.num_pages|add:'-3' %} <span class="page-link">...</span>
                                    <a class="page-link" href="?{{ request.GET.urlencode }}&page={{ product.paginator.num_pages }}">{{ product.paginator.num_pages }}</a> {% elif product.number < product.paginator.num_pages|add:'-2' %} <a class="page-link" href="?{{ request.GET.urlencode }}&page={{ product.paginator.num_pages }}">{{ product.paginator.num_pages }}</a> {% endif %} <a class="page-link" href="#" onclick="loadPage(event, {{ product.next_page_number }})">»</a> {% endif %}
                                  </nav>
                                </div>
                              </div>
                             </div>
                          </div>
                        </div>
                      </div>
                    </div>
                    <div id="response-upsell" style="display: {% if upsell_product %} block; {% else %} none;{% endif %}">
                      <div class="mx-n4 px-4 mx-lg-n6 px-lg-6 bg-white border-top border-bottom border-200 position-relative top-1 mt-3">
                        <div class="table-responsive scrollbar mx-n1 px-1">
                          <table class="table fs--1 mb-0">
                            <thead>
                              <tr>
                                <th class="sort white-space-nowrap align-middle fs--2" scope="col" style="width:70px;"></th>
                                <th class="sort white-space-nowrap align-middle fs--2" scope="col" style="width:70px;"></th>
                                <th class="sort white-space-nowrap align-middle ps-4" scope="col" style="width:350px;" data-sort="product">PRODUCT NAME</th>
                                <th class="sort align-middle text-end ps-4" scope="col" data-sort="sku" style="width:150px;">PRODUCT SKU</th>
                                <th class="sort align-middle text-end ps-4" scope="col" data-sort="model" style="width:150px;">PRODUCT MODEL</th>
                                <th class="sort align-middle ps-4" scope="col" data-sort="category" style="width:150px;">CATEGORY</th>
                                <th class="sort align-middle ps-3" scope="col" data-sort="tags" style="width:250px;">SUB CATEGORY</th>
                                <th class="sort align-middle fs-0 text-center ps-4" scope="col" style="width:125px;">BRAND</th>
                                <th class="sort align-middle ps-4" scope="col" data-sort="vendor" style="width:200px;">NO STOCK IN</th>
                                <th class="sort align-middle ps-4" scope="col" data-sort="time" style="width:50px;">NO STOCK OUT</th>
                                <th class="sort text-center align-middle pe-0 ps-4" scope="col">PRICE</th>
                                <th class="sort text-center align-middle pe-0 ps-4" scope="col">STOCK STATUS</th>
                              </tr>
                            </thead>
                            <tbody class="list" id="products-table-body1"> {% if upsell_product %} {% for upsell_product in upsell_product %} <tr class="position-static" data-product-id="{{ upsell_product.upsell_product__pk }}">
                                <td class="fs--1 align-middle">
                                  <div class="form-check mb-0 fs-0">
                                    <input class="form-check-input upsell_selected" type="checkbox" checked value="{{upsell_product.upsell_product__pk}}" data-bulk-select-row='{"product":"{{upsell_product.upsell_product__product_name}}", "sku":"{{upsell_product.upsell_product__product_sku}}"}'>
                                  </div>
                                </td>
                                <td>
                                  <img src="{{ MEDIA_PREFIX }}{{upsell_product.upsell_product__product_Image1}}" alt="{{upsell_product.upsell_product__product_name}}" width="53" />
                                </td>
                                <td class="product">
                                  <a class="fw-semi-bold line-clamp-3 mb-0" href="#!">{{upsell_product.upsell_product__product_name}}</a>
                                </td>
                                <td class="sku text-center white-space-nowrap text-end fw-bold text-700 ps-4">{{upsell_product.upsell_product__product_sku}}</td>
                                <td class="model text-center white-space-nowrap text-end fw-bold text-700 ps-4">{{upsell_product.upsell_product__model_number}}</td>
                                <td class="category text-center white-space-nowrap text-600 fs--1 ps-4 fw-semi-bold">{{upsell_product.upsell_product__category__name}}</td>
                                <td class="sub_category text-center white-space-nowrap text-600 fs--1 ps-4 fw-semi-bold">{{upsell_product.upsell_product__sub_category__name}}</td>
                                <td class="brand text-center white-space-nowrap text-600 fs--1 ps-4 fw-semi-bold">{{upsell_product.upsell_product__brand__name}}</td>
                                <td class="stackin text-center white-space-nowrap text-600 fs--1 ps-4 fw-semi-bold">{{upsell_product.upsell_product__number_of_stock_in}}</td>
                                <td class="stackout text-center white-space-nowrap text-600 fs--1 ps-4 fw-semi-bold">{{upsell_product.upsell_product__number_of_stock_out}}</td>
                                <td class="price text-center white-space-nowrap text-600 fs--1 ps-4 fw-semi-bold">{{upsell_product.upsell_product__price}}</td>
                                <td class="stockstatus text-center white-space-nowrap text-600 fs--1 ps-4 fw-semi-bold">{{upsell_product.upsell_product__stock_status}}</td>
                              </tr> {% endfor %} {% endif %} </tbody>
                          </table>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </form>
      </div> {% endif %} {% endfor %} {% endif %} {% endif %}
    </div>

</section>

    <script>
      document.addEventListener("DOMContentLoaded", function() {
      // Function to submit a form using Axios
      function submitForm(formId, endpoint) {
          console.log("Form ID:", formId);
          console.log(document.getElementById(formId))
          const form = document.getElementById(formId);
          console.log("Form Element:", form);
          // Debugging: Log the form and its fields to the console
          console.log("Form:", form);
          // console.log("Form Fields:", form.elements);
          const formData = new FormData(form);

          // Assuming you want to clear the form after a successful submission
          function clearForm() {
              form.reset();
              // Additionally, you may want to clear any other elements or reset any state as needed
          }

          const imageElements = document.querySelectorAll('.dz-image');
          const imageSources = Array.from(imageElements).map(element => element.getAttribute('alt'));
          console.log('print image source')
          console.log(imageSources)
          const image_list =[imageSources]
          console.log(image_list)

          category_data = document.getElementById('categorySelect').value;
          console.log(category_data)

          sub_category_data = document.getElementById('subcategorySelect').value;
          console.log(sub_category_data)



          // formData.append('file', imageSources);
          formData.append('brand_img', image_list);
          formData.append('catagory', category_data);
          formData.append('sub_category', sub_category_data);

          axios.post(endpoint, formData)
              .then(response => {
                  // Handle response
                  const brandData = response.data.brand_data;
                  if (brandData) {
                    console.log(brandData);
                    const brandSelect = document.getElementById('brand');
                    const newOption = document.createElement('option');
                    newOption.value = brandData.name;
                    newOption.textContent = brandData.name;
                    brandSelect.appendChild(newOption);

                    // Set the newly added option as selected
                    newOption.selected = true;
                  }
                  //subcategory data read and display function
                  const subcategoryName = response.data.subcategory;
                  if (subcategoryName){
                    console.log(subcategoryName);

                    // Add the newly created subcategory to the select dropdown
                    const subcategorySelect = document.getElementById('subcategorySelect');
                    const newsubOption = document.createElement('option');
                    newsubOption.value = subcategoryName;
                    newsubOption.textContent = subcategoryName;
                    subcategorySelect.appendChild(newsubOption);

                    // Set the newly added option as selected
                    newsubOption.selected = true;
                  }
                  
                  
                  // Handle successful response (e.g., display a success message)
                  console.log(response.data);

                  // Clear the form after successful submission
                  clearForm();


                  $('#Category').modal('hide');
                  $('#subcategory').modal('hide');
                  $('#Brand').modal('hide');
              })
              .catch(error => {
                  // Handle error (e.g., display an error message)
                  console.error(error);
              });
        }

      // Attach event listeners to form submissions
      document.getElementById("add-cate").addEventListener("click", function() {
          submitForm("category-form", "{% url 'create_category' %}");
      });

      document.getElementById("add-subcat").addEventListener("click", function() {
          submitForm("subcategory-form", "{% url 'create_subcategory' %}");
      });

      document.getElementById("add-brand").addEventListener("click", function() {
          submitForm("brand-form", "{% url 'create_brand' %}");
      });
    });


    function fetchSubcategories() {
      const selectedCategory = document.getElementById('categorySelect').value;
      console.log(selectedCategory)
      axios.defaults.headers.common['X-CSRFToken'] = '{{ csrf_token }}';
      axios.post('/okka-admin/get-subcategories', data={ selectedCategory: selectedCategory })
      .then(function (response) {
      // Handle the response and update the UI with the retrieved subcategories
      const subcategories = response.data.subcategories;
      console.log(subcategories)
      const subcategorySelect = document.getElementById('subcategorySelect');
    
      // Clear previous options
      subcategorySelect.innerHTML = '';

      // Add the dummy option
      const dummyOption = document.createElement('option');
      dummyOption.value = '';
      dummyOption.disabled = true;
      dummyOption.selected = true;
      dummyOption.textContent = 'Select subcategory';
      subcategorySelect.appendChild(dummyOption);

      // Add new options based on the retrieved subcategories
      subcategories.forEach(function (subcategory) {
      const option = document.createElement('option');
      option.value = subcategory.name;
      option.textContent = subcategory.name;
      subcategorySelect.appendChild(option);
      });
      })
      .catch(function (error) {
      console.error(error);
      });
    }
    
    // Call the fetchSubcategories function when the category selection changes
    document.getElementById('categorySelect').addEventListener('change', fetchSubcategories);


    // fetch Brand function

    document.addEventListener('DOMContentLoaded', function () {

    function fetchbrand() {
      const selectedCategory = document.getElementById('categorySelect').value;
      console.log(selectedCategory)
      const selectedsubCategory = document.getElementById('subcategorySelect').value;
      console.log(selectedsubCategory)
      axios.defaults.headers.common['X-CSRFToken'] = '{{ csrf_token }}';
      axios.post('/okka-admin/get-brand', data={ selectedsubCategory: selectedsubCategory, selectedCategory:selectedCategory })
      .then(function (response) {
      // Handle the response and update the UI with the retrieved subcategories
      const brand = response.data.brand;
      console.log(brand)

      const brand_list = document.getElementById('brand');

      // Clear previous options
      brand_list.innerHTML = '';

      // Add the dummy option
      const dummyOption = document.createElement('option');
      dummyOption.value = '';
      dummyOption.disabled = true;
      dummyOption.selected = true;
      dummyOption.textContent = 'Select Brand';
      brand_list.appendChild(dummyOption);


      // Add new options based on the retrieved subcategories
      brand.forEach(function (brand) {
      const option = document.createElement('option');
      option.value = brand.name;
      option.textContent = brand.name;
      brand_list.appendChild(option);
      });

    })
      .catch(function (error) {
      console.error(error);
      });
    }

    // Call the fetchSubcategories function when the category selection changes
    document.getElementById('subcategorySelect').addEventListener('change', fetchbrand);

    });


    // fetchAttributes  function

    document.addEventListener('DOMContentLoaded', function () {

    function fetchAttributes() {
      const selectedsubCategory = document.getElementById('subcategorySelect').value;
      console.log(selectedsubCategory)
      axios.defaults.headers.common['X-CSRFToken'] = '{{ csrf_token }}';
      axios.post('/okka-admin/get-attribute', data={ selectedsubCategory: selectedsubCategory })
      .then(function (response) {
      // Handle the response and update the UI with the retrieved subcategories
      const Attributes = response.data.Attributes;
      console.log(Attributes)
      const attributeSelect = document.getElementById('Attributes-res');
        
      // Clear previous options
      attributeSelect.innerHTML = '';
      // Add new options based on the retrieved subcategories
      Attributes.forEach(function (attribute) {
      const option = document.createElement('option');
      option.value = attribute.attribute;
      option.textContent = attribute.attribute;
      attributeSelect.appendChild(option);
      });
      console.log(attributeSelect)
     })
      .catch(function (error) {
      console.error(error);
      });
    }
    
    // Call the fetchSubcategories function when the category selection changes
    document.getElementById('subcategorySelect').addEventListener('change', fetchAttributes);

  });
  
    

      const form = document.getElementById('product-adding');
      const addButton = document.getElementById('add-product');

      if (addButton) {

        addButton.addEventListener('click', function(event) {
          event.preventDefault(); // Prevent default form submission

          // Add your validation logic here
          if (!validateForm()) {
            return; // Exit function if validation fails
          }

          // Gather form data
          const formData = new FormData(form);
          console.log(formData);

          // Get the content of the TinyMCE editor
          var description = tinymce.get('description').getContent();
          console.log(description);
          var short_description = tinymce.get('short_description').getContent();
          console.log(short_description);

          // Capture the data from selected checkboxes
          const selectedCheckboxes = document.querySelectorAll('.upsell_selected:checked');
          const upsellData = Array.from(selectedCheckboxes).map(checkbox => checkbox.value);
          console.log(upsellData);

          console.log('Upsell product data:', upsellData);
          // Append description and short_description to the FormData
          formData.append('description', description);
          formData.append('short_description', short_description);
          formData.append('upsell_product', upsellData);

          // Get the image files
          const imageFiles = form.querySelector('#img').files;
          console.log(imageFiles);

          // Append image files to FormData object
          for (let i = 0; i < imageFiles.length; i++) {
            formData.append('images[]', imageFiles[i]);
          }

          // Make a POST request using Axios
          axios.post('/okka-admin/product-adding', formData)
            .then(response => {
              // Handle success (e.g., show a success message)
              console.log('Product added successfully!', response.data);
              // Reload the page
              window.location.reload();
            })
            .catch(error => {
              // Handle error (e.g., show an error message)
              console.error('Error adding product:', error);
            });
        });

      }

      function validateForm() {
        // Add your validation logic here
        // For example, you can check if required fields are filled
        const requiredFields = document.querySelectorAll('.required-field');
        for (const field of requiredFields) {
          if (!field.value) {
            alert(`Please fill in the ${field.name} field.`);
            return false;
          }
        }
        return true;
      }


      


      document.addEventListener('DOMContentLoaded', function() {
        const dropdowns = document.querySelectorAll('.filter-dropdown');

        dropdowns.forEach(dropdown => {
            dropdown.addEventListener('change', function() {
                const selectedValue = this.value;
                const filterType = this.getAttribute('data-filter');
                const csrfToken = "{{ csrf_token }}";

                axios.post('filter-data', {
                    filter_type: filterType,
                    filter_value: selectedValue
                }, {
                    headers: {
                        'X-CSRFToken': csrfToken
                    }
                })
                .then(response => {
                  const responseData = response.data;
                const tableBody = document.querySelector('#products-table-body');

                // Clear existing table rows
                tableBody.innerHTML = '';

                responseData.forEach(item => {
                    console.log(item)
                    const row = document.createElement('tr');
                    row.classList.add('position-static');
                    row.setAttribute('data-product-id', item.pk);

                    // Create and append table cells to the row (similar to your HTML structure)
                   // Adjust the property names based on your data structure
                  row.innerHTML = `
                      <td class="fs--1 align-middle">
                        <div class="form-check mb-0 fs-0">
                          <input class="form-check-input upsell" type="checkbox" value="${item.pk}" data-bulk-select-row='{"product":"Fitbit Sense Advanced Smartwatch with Tools for Heart Health, Stress Management & Skin Temperature Trends, Carbon/Graphite, One Size (S & L Bands...","productImage":"/products/1.png","price":"$39","category":"Plants","tags":["Health","Exercise","Discipline","Lifestyle","Fitness"],"star":false,"vendor":"Blue Olive Plant sellers. Inc","publishedOn":"Nov 12, 10:45 PM"}'>
                          </div>
                      </td>
                      <td><img src="{{ MEDIA_PREFIX }}${item.product_Image1}" alt="${item.product_name}" width="53" /></td>
                      <td class="product"><a class="fw-semi-bold line-clamp-3 mb-0" href="#!">${item.product_name}</a></td>
                      <td class="sku text-center white-space-nowrap text-end fw-bold text-700 ps-4">${item.product_sku}</td>
                      <td class="model text-center white-space-nowrap text-end fw-bold text-700 ps-4">${item.model_number}</td>
                      <td class="category text-center white-space-nowrap text-600 fs--1 ps-4 fw-semi-bold">${item.category__name}</td>
                      <td class="sub_category text-center white-space-nowrap text-600 fs--1 ps-4 fw-semi-bold">${item.sub_category__name}</td>
                      <td class="brand text-center white-space-nowrap text-600 fs--1 ps-4 fw-semi-bold">${item.brand__name}</td>
                      <td class="stackin text-center white-space-nowrap text-600 fs--1 ps-4 fw-semi-bold">${item.number_of_stock_in}</td>
                      <td class="stackout text-center white-space-nowrap text-600 fs--1 ps-4 fw-semi-bold">${item.number_of_stock_out}</td>
                      <td class="price text-center white-space-nowrap text-600 fs--1 ps-4 fw-semi-bold">${item.price}</td>
                      <td class="stockstatus text-center white-space-nowrap text-600 fs--1 ps-4 fw-semi-bold">${item.stock_status}</td>
                  `;

                    tableBody.appendChild(row);
                });
            })
                .catch(error => {
                    console.error('Error:', error);
                });
            });
        });
    });


    document.addEventListener("DOMContentLoaded", function() {
      const checkboxes = document.querySelectorAll(".upsell");
      console.log(checkboxes)
      const addButton = document.getElementById("add-upsell");

      if(addButton){

        addButton.addEventListener("click", function() {
        const selectedValues = Array.from(checkboxes)
          .filter(checkbox => checkbox.checked)
          .map(checkbox => checkbox.value);
        console.log(selectedValues)

        if (selectedValues.length > 0) {
          // Make an axios POST request to the server
          axios.defaults.headers.common['X-CSRFToken'] = '{{ csrf_token }}';
          axios.post("/okka-admin/upsell-selection", { selectedValues: selectedValues })
            .then(response => {
              // Handle the response here
              const responseData = response.data;
              console.log(responseData);
              const tableBody = document.querySelector('#products-table-body1');

                // Clear existing table rows
                tableBody.innerHTML = '';

                responseData.forEach(item => {
                    console.log(item)
                    const row = document.createElement('tr');
                    row.classList.add('position-static');
                    row.setAttribute('data-product-id', item.pk);

                    // Create and append table cells to the row (similar to your HTML structure)
                   // Adjust the property names based on your data structure
                  row.innerHTML = `
                      <td class="fs--1 align-middle">
                        <div class="form-check mb-0 fs-0">
                          <input class="form-check-input upsell_selected" type="checkbox" checked value="${item.pk}" data-bulk-select-row='{"product":"${item.product_name}", "sku":"${item.product_sku}"}'>
                        </div>
                      </td>
                      <td><img src="{{ MEDIA_PREFIX }}${item.product_Image1}" alt="${item.product_name}" width="53" /></td>
                      <td class="product"><a class="fw-semi-bold line-clamp-3 mb-0" href="#!">${item.product_name}</a></td>
                      <td class="sku text-center white-space-nowrap text-end fw-bold text-700 ps-4">${item.product_sku}</td>
                      <td class="model text-center white-space-nowrap text-end fw-bold text-700 ps-4">${item.model_number}</td>
                      <td class="category text-center white-space-nowrap text-600 fs--1 ps-4 fw-semi-bold">${item.category__name}</td>
                      <td class="sub_category text-center white-space-nowrap text-600 fs--1 ps-4 fw-semi-bold">${item.sub_category__name}</td>
                      <td class="brand text-center white-space-nowrap text-600 fs--1 ps-4 fw-semi-bold">${item.brand__name}</td>
                      <td class="stackin text-center white-space-nowrap text-600 fs--1 ps-4 fw-semi-bold">${item.number_of_stock_in}</td>
                      <td class="stackout text-center white-space-nowrap text-600 fs--1 ps-4 fw-semi-bold">${item.number_of_stock_out}</td>
                      <td class="price text-center white-space-nowrap text-600 fs--1 ps-4 fw-semi-bold">${item.price}</td>
                      <td class="stockstatus text-center white-space-nowrap text-600 fs--1 ps-4 fw-semi-bold">${item.stock_status}</td>
                  `;

                    tableBody.appendChild(row);
                });
                document.getElementById('response-upsell').style.display="block";
                const offCanvasMenu = document.getElementById('offcanvasRight');
                offCanvasMenu.classList.remove('show');
            })
            .catch(error => {
              console.error("Error:", error);
            });
        }
      });
    }
    });

     

      


    document.addEventListener("DOMContentLoaded", function() {
      const checkboxes = document.querySelectorAll(".upsell");
      console.log(checkboxes)
      const addButton = document.getElementById("update-upsell");

      if(addButton){

        addButton.addEventListener("click", function() {
        const selectedValues = Array.from(checkboxes)
          .filter(checkbox => checkbox.checked)
          .map(checkbox => checkbox.value);
        console.log(selectedValues)

        if (selectedValues.length > 0) {
          // Make an axios POST request to the server
          axios.defaults.headers.common['X-CSRFToken'] = '{{ csrf_token }}';
          axios.post("/okka-admin/upsell-selection", { selectedValues: selectedValues })
            .then(response => {
              // Handle the response here
              const responseData = response.data;
              console.log(responseData);
              const tableBody = document.querySelector('#products-table-body1');

                // Clear existing table rows
                // tableBody.innerHTML = '';

                responseData.forEach(item => {
                    console.log(item)
                    const row = document.createElement('tr');
                    row.classList.add('position-static');
                    row.setAttribute('data-product-id', item.pk);

                    // Create and append table cells to the row (similar to your HTML structure)
                   // Adjust the property names based on your data structure
                  row.innerHTML = `
                      <td class="fs--1 align-middle">
                        <div class="form-check mb-0 fs-0">
                          <input class="form-check-input upsell_selected" type="checkbox" checked value="${item.pk}" data-bulk-select-row='{"product":"${item.product_name}", "sku":"${item.product_sku}"}'>
                        </div>
                      </td>
                      <td><img src="{{ MEDIA_PREFIX }}${item.product_Image1}" alt="${item.product_name}" width="53" /></td>
                      <td class="product"><a class="fw-semi-bold line-clamp-3 mb-0" href="#!">${item.product_name}</a></td>
                      <td class="sku text-center white-space-nowrap text-end fw-bold text-700 ps-4">${item.product_sku}</td>
                      <td class="model text-center white-space-nowrap text-end fw-bold text-700 ps-4">${item.model_number}</td>
                      <td class="category text-center white-space-nowrap text-600 fs--1 ps-4 fw-semi-bold">${item.category__name}</td>
                      <td class="sub_category text-center white-space-nowrap text-600 fs--1 ps-4 fw-semi-bold">${item.sub_category__name}</td>
                      <td class="brand text-center white-space-nowrap text-600 fs--1 ps-4 fw-semi-bold">${item.brand__name}</td>
                      <td class="stackin text-center white-space-nowrap text-600 fs--1 ps-4 fw-semi-bold">${item.number_of_stock_in}</td>
                      <td class="stackout text-center white-space-nowrap text-600 fs--1 ps-4 fw-semi-bold">${item.number_of_stock_out}</td>
                      <td class="price text-center white-space-nowrap text-600 fs--1 ps-4 fw-semi-bold">${item.price}</td>
                      <td class="stockstatus text-center white-space-nowrap text-600 fs--1 ps-4 fw-semi-bold">${item.stock_status}</td>
                  `;

                    tableBody.appendChild(row);
                });
                document.getElementById('response-upsell').style.display="block";
                const offCanvasMenu = document.getElementById('offcanvasRight');
                offCanvasMenu.classList.remove('show');
            })
            .catch(error => {
              console.error("Error:", error);
            });
        }
      });
    }
    });

 

    const updateform = document.getElementById('product-update');
    const updateButton = document.getElementById('update-product');

    if (updateButton) {

      updateButton.addEventListener('click', function(event) {
        event.preventDefault(); // Prevent default form submission

        // Add your validation logic here
        if (!validateForm()) {
          return; // Exit function if validation fails
        }

        // Gather form data
        const formData = new FormData(updateform);
        console.log(formData);

        // Get the content of the TinyMCE editor
        var description = tinymce.get('description').getContent();
        console.log(description);
        var short_description = tinymce.get('short_description').getContent();
        console.log(short_description);

        // Capture the data from selected checkboxes
        const selectedCheckboxes = document.querySelectorAll('.upsell_selected:checked');
        const upsellData = Array.from(selectedCheckboxes).map(checkbox => checkbox.value);
        console.log(upsellData);

        console.log('Upsell product data:', upsellData);

        // Append description and short_description to the FormData
        formData.append('description', description);
        formData.append('short_description', short_description);
        formData.append('upsell_product', upsellData);


        // Get the image files
        const imageFiles = updateform.querySelector('#img').files;
        console.log(imageFiles);

        // Append image files to FormData object
        for (let i = 0; i < imageFiles.length; i++) {
          formData.append('images[]', imageFiles[i]);
        }

        // Get the product ID
        const product_id = document.getElementById('product-id').value;
        console.log(product_id);

        // Make a POST request using Axios
        axios.post(`/okka-admin/product-update/${product_id}/`, formData)
          .then(response => {
            // Handle success (e.g., show a success message)
            console.log('Product updated successfully!', response.data);
            // Redirect to the product list page
            window.location.href = '{% url "product-list" %}';
          })
          .catch(error => {
            // Handle error (e.g., show an error message)
            console.error('Error updating product:', error);
          });
      });

    }







    </script>

  
    

    <script>


          document.getElementById('addAttributeBtn').addEventListener('click', function () {
            var selectedAttributes = Array.from(document.querySelector('.attributes').selectedOptions, option => option.value);
            console.log(selectedAttributes)

            var tablesContainer = document.getElementById('tablesContainer');
            tablesContainer.innerHTML = '';

            selectedAttributes.forEach(function (selectedAttribute) {
                // Create a table element
                const table = document.createElement('table');
                table.className = 'table';
                table.innerHTML = `
                      <tbody>
                          <tr>
                              <td>
                                  <label>Name:</label><br>
                                  <strong>${selectedAttribute}</strong>
                              </td>
                              <td rowspan="3">
                                  <div class="mb-3">
                                      <div class="ps-4" style="max-width: 350px;">
                                          <label for="organizerMultipleValue">Value(s) :</label>
                                          <select class="form-select ps-4 organizerMultipleValue_${selectedAttribute} attributeValue" id="organizerMultipleValue" name="attributeValue" data-choices="data-choices" multiple="multiple" data-options='{"removeItemButton":true,"placeholder":true}'>
                                              <option value="" disabled>Select value(s)</option>
                                          </select>
                                      </div>
                                      <button class="btn btn-phoenix-primary me-1 mb-1 mt-3 select_all_attributes" type="button">Select all</button>
                                      <button class="btn btn-phoenix-primary me-1 mb-1 mt-3 select_no_attributes" type="button">Select none</button>
                                      <button class="btn btn-phoenix-primary me-1 mb-1 mt-3 add_new_attribute_value" type="button" data-attribute="${selectedAttribute}">Add new</button>
                                  </div>
                              </td>
                          </tr>
                      </tbody>
                  `;

                // Append the table to the container
                tablesContainer.appendChild(table);
                
                console.log(tablesContainer)

                // Fetch attribute values for the selected attribute
                axios.defaults.headers.common['X-CSRFToken'] = '{{ csrf_token }}';
                axios.post('/okka-admin/Attribute-values', {
                      attribute: [selectedAttribute]
                  })
                  .then(function (response) {
                      var attributeValues = response.data.attributevalue;
                      console.log(attributeValues)
                      var selectElement = document.querySelector(`.organizerMultipleValue_${selectedAttribute}`);
                      selectElement.innerHTML = '';

                      if (attributeValues.length > 0) {
                        attributeValues.forEach(function (AttributeValue) {
                            const option = new Option(AttributeValue.name, AttributeValue.name);
                            selectElement.appendChild(option);
                        });
                      } else {
                        const defaultOption = new Option('No values found', '');
                        selectElement.appendChild(defaultOption);
                      }
                      document.getElementById('selectedAttributeValueSection').style.display = 'block';
                  })
                  .catch(function (error) {
                      console.error(error);
                  });
            });

            // Add event listener for "Add new" button
            document.querySelectorAll('.add_new_attribute_value').forEach(function (button) {
                button.addEventListener('click', function () {
                  const selectedAttribute = this.getAttribute('data-attribute');
                  console.log(selectedAttribute)

                  // Open the modal for adding a new attribute value
                  $('#addAttributeValueModal').modal('show');

                  // Update the modal with the selected attribute
                  document.getElementById('attributeValueAttribute').innerText = selectedAttribute;
                  document.getElementById('attributeValueAttribute').value = selectedAttribute;
                });
            });
          });

          // Event listener for "Save" button in the modal
          document.getElementById('addNewAttributeValueBtn').addEventListener('click', function () {
            // Get values from the modal input fields
            var attributeName = document.getElementById('attributeValueAttribute').value;
            var attributeValue = document.getElementById('inputAttributeValue').value;
            // var slotPosition = document.getElementById('inputAttributeValueSlot').value;
            var isActive = document.getElementById('activeAttributeValue').checked;

            // Validate input values
            if (!attributeName || !attributeValue) {
                alert('Please fill in all fields.');
                return;
            }

            // Create a data object to send in the POST request
            var data = {
                attribute: attributeName,
                value: attributeValue,
                // Slot_Position: parseInt(slotPosition),
                Active: isActive
            };

            // Send a POST request to your server using Axios
            axios.post('/okka-admin/add_new_attribute_value', data)
                .then(function (response) {
                  if (response.data.status === 'success') {
                      // Close the modal
                      $('#addAttributeValueModal').modal('hide');
                      

                      var attributeValues = response.data.attributevalue;
                      console.log(attributeValues)
                      var selectElement = document.querySelector(`.organizerMultipleValue_${attributeName}`);
                      selectElement.innerHTML = '';

                      if (attributeValues.length > 0) {
                        attributeValues.forEach(function (AttributeValue) {
                            const option = new Option(AttributeValue.name, AttributeValue.name);
                            selectElement.appendChild(option);
                        });
                      } else {
                        const defaultOption = new Option('No values found', '');
                        selectElement.appendChild(defaultOption);
                      }
                      document.getElementById('selectedAttributeValueSection').style.display = 'block';

                      // Display success message or update the UI as needed
                      console.log('New attribute value added successfully.');
                  } else {
                      // Display error message
                      alert(response.data.message);
                  }
                })
                .catch(function (error) {
                  // Handle errors
                  console.error('Error:', error);
                });
          });





          document.addEventListener("DOMContentLoaded", function() {
            const removeButtons = document.querySelectorAll(".dz-remove");

            removeButtons.forEach(button => {
              button.addEventListener("click", function(event) {
                event.preventDefault();
                const imageId = button.getAttribute("data-image-id");
                console.log(imageId)
                const imageContainer = button.parentElement;

                // Send a POST request with image ID to the server
                axios.defaults.headers.common['X-CSRFToken'] = '{{ csrf_token }}';
                axios.post(`/okka-admin/remove-image/${imageId}/`)
                  .then(response => {
                    if (response.status === 200) {
                      console.log(`Image with ID ${imageId} removed from the server.`);
                      imageContainer.remove(); // Remove the image from the DOM
                    } else {
                      console.error(`Failed to remove image with ID ${imageId} from the server.`);
                    }
                  })
                  .catch(error => {
                    console.error(`Error occurred: ${error}`);
                  });
              });
            });
          });




          document.getElementById('addNewAttributeBtn').addEventListener('click', function () {
            // Get values from input fields
            var attributeName = document.getElementById('inputAttribute').value;
            console.log(attributeName)
            var slotPosition = document.getElementById('inputSlot').value;
            console.log(slotPosition)
            var isActive = document.getElementById('activeAttr').checked;
            console.log(isActive)
            var selectedsubCategory = document.getElementById('subcategorySelect').value;
            console.log(selectedsubCategory)

            // Validate input values (add your own validation logic)
            if (!attributeName || !slotPosition || !selectedsubCategory) {
                alert('Please fill in all fields.');
                return;
            }

            // Create a data object to send in the POST request
            var data = {
                name: attributeName,
                Slot_Position: parseInt(slotPosition), // Convert to integer
                Active: isActive,
                selectedsubCategory:selectedsubCategory,
            };

            // Send a POST request to your server using Axios
            axios.post('/okka-admin/add_new_attribute', data)
                .then(function (response) {
                    if (response.data.status === 'success') {
                        // Update the select element with the new list of attribute values
                        var attributeSelect = document.getElementById('Attributes-res');
                        attributeSelect.innerHTML = '<option value="" disabled selected>select Attribute</option>';

                        response.data.attribute_values.forEach(function (value) {
                            var option = document.createElement('option');
                            option.value = value;
                            option.text = value;
                            attributeSelect.add(option);
                        });

                        console.log('New attribute added successfully.');

                        // Close the modal
                        $('#verticallyCentered').modal('hide');
                    } else {
                        console.error('Error adding new attribute:', response.data.message);
                        // Display error alert
                        var errorAlert = document.createElement('div');
                        errorAlert.className = 'alert alert-outline-danger d-flex align-items-center alert-dismissible fade show';
                        errorAlert.role = 'alert';

                        var icon = document.createElement('span');
                        icon.className = 'fas fa-times-circle text-danger fs-3 me-3';

                        var message = document.createElement('p');
                        message.className = 'mb-0 flex-1';
                        message.innerText = response.data.message;

                        var closeButton = document.createElement('button');
                        closeButton.className = 'btn-close';
                        closeButton.type = 'button';
                        closeButton.setAttribute('data-bs-dismiss', 'alert');
                        closeButton.setAttribute('aria-label', 'Close');

                        errorAlert.appendChild(icon);
                        errorAlert.appendChild(message);
                        errorAlert.appendChild(closeButton);

                        document.getElementById('alertContainer').innerHTML = ''; // Clear previous alerts
                        document.getElementById('alertContainer').appendChild(errorAlert);
                    }
                })
                .catch(function (error) {
                    // Handle errors
                    console.error('Error:', error);
                });
        });




    </script>

<script>
    // JavaScript function to preview selected images
    function previewImages(event) {
      const imagePreviewContainer = document.getElementById('imagePreviewContainer');
      imagePreviewContainer.innerHTML = ''; // Clear existing previews

      const files = event.target.files;
      for (let i = 0; i < files.length; i++) {
        const file = files[i];
        const reader = new FileReader();
        reader.onload = function(e) {
          const image = document.createElement('img');
          image.src = e.target.result;
          image.classList.add('preview-image');
          imagePreviewContainer.appendChild(image);
        }
        reader.readAsDataURL(file);
      }
    }

    // JavaScript function to remove image preview
    function removeImage(imageElement) {
      imageElement.parentNode.removeChild(imageElement);
      // Optionally, mark the image for deletion in the backend
    }

</script>


</main>

{% endblock %}