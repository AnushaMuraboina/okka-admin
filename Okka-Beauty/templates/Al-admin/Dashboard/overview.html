
{% extends 'Al-admin/base/base.html' %} {% load static %}{% block title %}my webpage{% endblock %} {% block body %} {% load static %}


    <style>
        .show-date-range {

cursor: pointer;
}

#calendar-icon {
cursor: pointer;
transition: transform 0.3s ease; 
}

.rotate {
transform: rotate(180deg);
}

.date-range-input {
display: none; 
padding: 5px;
border: 1px solid #ccc;
border-radius: 4px;
margin-top: 10px;
}

.visible {
display: block; /* Show input when visible class is added */
}

.date-card {
grid-template-columns: repeat(2, 1fr);
display: grid;
gap: 5px;
}

input#dateRangePicker {
width: 100%;
padding: 8px;
border: 1px solid #ccc;
border-radius: 4px;
font-size: 14px;
margin-top: 10px;
}
div#dateRangeContainer {
width: 325px;
height: 100px;
background-color: #f2f2f2;
position: absolute;
left: 0;
top: 100%;
z-index: 9;
}
.month-date-range{
position: relative;
}

/* ---------------------------------------------- */
select.select-list {
border: none;
background: transparent;
width: 250px;
}
select:focus-visible {
outline: 0px;
}

/* --------------------------------------------------- */
.chart-bottom a {
text-decoration: none;
color: black;
font-size: 14px;
}
.chart-bottom a i {
margin-right: 10px;
}
/* ------------------------------------ */
#dateRangeContainer {
            display: none; /* Hidden by default */
        }
        #dateRangeContainer.visible {
            display: block; /* Show when visible */
        }
        #calendar-icon.rotate {
            transform: rotate(180deg); /* Rotate icon */
            transition: transform 0.3s; /* Smooth transition */
        }
/* ---------------------------------- */
    </style>


    <section class="analytics-header bg-white pt-3 pb-3 sticky-top">
        <div class="container">
            Overview
        </div>
    </section>


    <section class="date-range mt-5 mb-5">
        <div class="container">
            <p>Date range</p>
            <div class="month-date-range d-flex gap-5">
                <div class="month-range ps-3">
                    <b>Month to date (Sep 1 - 28, 2024)</b><br>
                    vs. Previous year (Sep 1 - 28, 2023)
                </div>

                <div class="show-date-range">
                    <i class="fas fa-chevron-down" id="calendar-icon"></i>
                    <div class="date-range-input" id="dateRangeContainer">
                        <nav>
                            <div class="nav nav-tabs" id="nav-tab" role="tablist">
                                <button class="nav-link active w-50" id="nav-presets-tab" data-bs-toggle="tab"
                                    data-bs-target="#nav-presets" type="button" role="tab" aria-controls="nav-presets"
                                    aria-selected="true">Presets</button>
                                <button class="nav-link w-50" id="nav-custom-tab" data-bs-toggle="tab"
                                    data-bs-target="#nav-custom" type="button" role="tab" aria-controls="nav-custom"
                                    aria-selected="false">Custom</button>
                            </div>
                        </nav>
                        <div class="tab-content" id="nav-tabContent">
                            <!-- Presets Tab -->
                            <div class="tab-pane fade show active" id="nav-presets" role="tabpanel"
                                aria-labelledby="nav-presets-tab">
                                <div class="card border p-3">
                                    <p class="text-center border-bottom p-2 text-uppercase"><small>Select a date
                                            range</small></p>
                                    <div class="d-grid date-card border">
                                        <button type="button" class="btn btn-light btn-sm rounded-0">Today</button>
                                        <button type="button" class="btn btn-light btn-sm rounded-0">Yesterday</button>
                                        <button type="button" class="btn btn-light btn-sm rounded-0">Week to
                                            date</button>
                                        <button type="button" class="btn btn-light btn-sm rounded-0">Last Week</button>
                                        <button type="button" class="btn btn-light btn-sm rounded-0">Month to
                                            date</button>
                                        <button type="button" class="btn btn-light btn-sm rounded-0">Last Month</button>
                                        <button type="button" class="btn btn-light btn-sm rounded-0">Quarter to
                                            date</button>
                                        <button type="button" class="btn btn-light btn-sm rounded-0">Last
                                            Quarter</button>
                                        <button type="button" class="btn btn-light btn-sm rounded-0">Year to
                                            date</button>
                                        <button type="button" class="btn btn-light btn-sm rounded-0">Last Year</button>
                                    </div>
                                    <p class="border-bottom border-top p-2 text-center text-uppercase"><small>Compare
                                            to</small></p>
                                    <div class="d-grid date-card border">
                                        <button type="button" class="btn btn-light btn-sm rounded-0">Previous
                                            Period</button>
                                        <button type="button" class="btn btn-light btn-sm rounded-0">Previous
                                            Year</button>
                                    </div>
                                    <div class="pt-3 text-center">
                                        <button type="button" class="btn btn-primary pt-1 pb-1 ">Update</button>
                                    </div>
                                </div>
                            </div>
                            <!-- Custom Tab -->
                            <div class="tab-pane fade" id="nav-custom" role="tabpanel" aria-labelledby="nav-custom-tab">
                                <input type="text" id="dateRangePicker" placeholder="Select date range" />
                            </div>
                        </div>
                    </div>
                </div>




            </div>
        </div>
    </section>


    <section class="performance">
        <div class="container">
            <div class="row mb-2">
                <div class="col-6">
                    <h3 class="w-line">Performance</h3>
                </div>
                <div class="col-6 text-end">
                    <i class="fas fa-ellipsis-v"></i>
                </div>
            </div>
            <div class="boxes d-grid">
                <div class=" bg-white ps-4 pt-4 pb-4 pe-4">
                    <p class="mb-3">Total sales</p>
                    <div class="row">
                        <div class="col-9">
                            <h3>6,838.10 AED</h3>
                        </div>
                        <div class="col-3">
                            <button type="button" class="btn btn-success btn-sm">18%</button>
                        </div>
                    </div>
                </div>
                <div class="bg-white ps-4 pt-4 pb-4 pe-4">
                    <p class="mb-3">Net sales</p>
                    <div class="row">
                        <div class="col-9">
                            <h3>6,838.10 AED</h3>
                        </div>
                        <div class="col-3">
                            <button type="button" class="btn btn-success btn-sm">18%</button>
                        </div>
                    </div>
                </div>
                <div class="bg-white ps-4 pt-4 pb-4 pe-4">
                    <p class="mb-3">Orders</p>
                    <div class="row">
                        <div class="col-9">
                            <h3>6,838.10 AED</h3>
                        </div>
                        <div class="col-3">
                            <button type="button" class="btn btn-success btn-sm">18%</button>
                        </div>
                    </div>
                </div>
                <div class="bg-white ps-4 pt-4 pb-4 pe-4">
                    <p class="mb-3">Products Sold</p>
                    <div class="row">
                        <div class="col-9">
                            <h3>6,838.10 AED</h3>
                        </div>
                        <div class="col-3">
                            <button type="button" class="btn btn-success btn-sm">18%</button>
                        </div>
                    </div>
                </div>
                <div class="bg-white ps-4 pt-4 pb-4 pe-4">
                    <p class="mb-3">Variations Sold</p>
                    <div class="row">
                        <div class="col-9">
                            <h3>6,838.10 AED</h3>
                        </div>
                        <div class="col-3">
                            <button type="button" class="btn btn-success btn-sm">18%</button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>


    <section class="charts mt-5 mb-4">
        <div class="container">
            <div class="row mb-2">
                <div class="col-6">
                    <h3 class="w-line">Charts</h3>
                </div>
                <div class="col-6 text-end">
                    <i class="fas fa-ellipsis-v"></i>
                </div>
            </div>
            <div class="chart">
                <div class="row">
                    <div class="col-lg-6 border">
                        <div class="bg-white pt-3 pb-3 border-bottom">
                            <div class="container">
                                Net sales
                            </div>
                        </div>
                        <div class="chat-container bg-white">
                            <canvas id="netSalesChart" width="400" height="200"></canvas>
                            <div class="chart-bottom p-4 border-top">
                                <a href="#">
                                    <div class="d-flex justify-content-between pb-2">
                                        <div><i class="fas fa-check-square" style="color: #005eff;"></i> Month to date
                                            (Sep 1 - 30, 2024)</div>
                                        <div><b>6,912.10 AED</b></div>
                                    </div>
                                </a>
                                <a href="#">
                                    <div class="d-flex justify-content-between">
                                        <div><i class="fas fa-check-square" style="color: #009e54;"></i> Previous year
                                            (Sep 1 - 30, 2023)</div>
                                        <div><b>6,406.60 AED</b></div>
                                    </div>
                                </a>
                            </div>
                        </div>
                    </div>
                    <div class="col-lg-6 border">
                        <div class="bg-white pt-3 pb-3 border-bottom">
                            <div class="container">
                                Orders
                            </div>
                        </div>
                        <div class="chat-container bg-white">
                            <canvas id="ordersChart" width="400" height="200"></canvas>
                            <div class="chart-bottom p-4 border-top">
                                <a href="#">
                                    <div class="d-flex justify-content-between pb-2">
                                        <div><i class="fas fa-check-square" style="color: #005eff;"></i> Month to date
                                            (Sep 1 - 30, 2024)</div>
                                        <div><b>6,912.10 AED</b></div>
                                    </div>
                                </a>
                                <a href="#">
                                    <div class="d-flex justify-content-between">
                                        <div><i class="fas fa-check-square" style="color: #009e54;"></i> Previous year
                                            (Sep 1 - 30, 2023)</div>
                                        <div><b>6,406.60 AED</b></div>
                                    </div>
                                </a>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>


    <section class="charts mt-5 mb-4">
        <div class="container">
            <div class="row mb-2">
                <div class="col-6">
                    <h3 class="w-line">Leaderboards</h3>
                </div>
                <div class="col-6 text-end">
                    <i class="fas fa-ellipsis-v"></i>
                </div>
            </div>
            <div class="chart">
                <div class="row">
                    <div class="col-lg-6 border">
                        <div class="bg-white">
                            <div class="bg-white pt-3 pb-3 border-bottom">
                                <div class="container">
                                    Top categories - Items sold
                                </div>
                            </div>
                            <div class="chat-container bg-white">
                                <table class="table chart-table w-100">
                                    <thead>
                                        <tr>
                                            <th scope="col">Category</th>
                                            <th scope="col">Item Sold</th>
                                            <th scope="col">Net Sales</th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                            <td>PRICE</td>
                                            <td>133</td>
                                            <td>6,333.60 AED</td>
                                        </tr>
                                        <tr>
                                            <td>BRANDS</td>
                                            <td>133</td>
                                            <td>6,333.60 AED</td>
                                        </tr>
                                        <tr>
                                            <td>SKINCARE</td>
                                            <td>133</td>
                                            <td>6,333.60 AED</td>
                                        </tr>
                                        <tr>
                                            <td>SKIN CONCERN</td>
                                            <td>133</td>
                                            <td>6,333.60 AED</td>
                                        </tr>
                                        <tr>
                                            <td>SALE</td>
                                            <td>133</td>
                                            <td>6,333.60 AED</td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        </div>
                    </div>
                    <div class="col-lg-6 border">
                        <div class="bg-white">
                            <div class="bg-white pt-3 pb-3 border-bottom">
                                <div class="container">
                                    Top products - Items sold
                                </div>
                            </div>
                            <div class="chat-container bg-white">
                                <table class="table chart-table w-100">
                                    <thead>
                                        <tr>
                                            <th scope="col">Product</th>
                                            <th scope="col">Item Sold</th>
                                            <th scope="col">Net Sales</th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                            <td>PRICE</td>
                                            <td>5</td>
                                            <td>6,333.60 AED</td>
                                        </tr>
                                        <tr>
                                            <td>BRANDS</td>
                                            <td>5</td>
                                            <td>6,333.60 AED</td>
                                        </tr>
                                        <tr>
                                            <td>SKINCARE</td>
                                            <td>5</td>
                                            <td>6,333.60 AED</td>
                                        </tr>
                                        <tr>
                                            <td>SKIN CONCERN</td>
                                            <td>5</td>
                                            <td>6,333.60 AED</td>
                                        </tr>
                                        <tr>
                                            <td>SALE</td>
                                            <td>5</td>
                                            <td>6,333.60 AED</td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <script src="https://cdn.jsdelivr.net/npm/flatpickr"></script>
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // Initialize flatpickr with date range mode, but don't open it automatically
            const dateRangePicker = flatpickr("#dateRangePicker", {
                mode: "range",
                dateFormat: "m/d/Y",
                clickOpens: false, // Disable input field focus
                onClose: function(selectedDates, dateStr, instance) {
                    // Handle date range selection
                    console.log("Selected Dates: ", selectedDates);
                    console.log("Date Range String: ", dateStr);
                }
            });

            // Handle icon click to toggle the div with tabs visibility, icon rotation, and open date picker
            document.getElementById('calendar-icon').addEventListener('click', function() {
                const container = document.getElementById('dateRangeContainer');
                const icon = document.getElementById('calendar-icon');

                // Toggle container visibility
                if (container.classList.contains('visible')) {
                    container.classList.remove('visible');
                    icon.classList.remove('rotate'); // Reset icon rotation
                } else {
                    container.classList.add('visible');
                    icon.classList.add('rotate'); // Rotate icon 180 degrees
                }
            });

            // Bootstrap tab handling - Show relevant content for Presets and Custom
            const navPresets = document.getElementById('nav-presets-tab');
            const navCustom = document.getElementById('nav-custom-tab');

            navPresets.addEventListener('click', function() {
                // Close the calendar if it's open
                dateRangePicker.close();
            });

            navCustom.addEventListener('click', function() {
                // Open the calendar
                dateRangePicker.open();
            });
        });
    </script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.9.4/Chart.js"></script>

    <script>
        // Net Sale
        const netSalesCtx = document.getElementById('netSalesChart').getContext('2d');
        const netSalesChart = new Chart(netSalesCtx, {
            type: 'line',
            data: {
                labels: ['Sep 1', 'Sep 8', 'Sep 15', 'Sep 22', 'Sep 29'],
                datasets: [
                    {
                        label: 'Month to date (Sep 1 - 30, 2024)',
                        data: [1100, 2200, 1800, 2400, 2000],
                        borderColor: 'blue',
                        fill: false,
                        tension: 0  // Sharp lines
                    },
                    {
                        label: 'Previous year (Sep 1 - 30, 2023)',
                        data: [1000, 1300, 1700, 1500, 2100],
                        borderColor: 'green',
                        fill: false,
                        tension: 0  // Sharp lines
                    }
                ]
            },
            options: {
                scales: {
                    y: {
                        beginAtZero: true,
                        title: {
                            display: true,
                            text: 'Net Sales (AED)'
                        }
                    },
                    x: {
                        title: {
                            display: true,
                            text: 'Date'
                        }
                    }
                }
            }
        });


        // Orders
        const ordersCtx = document.getElementById('ordersChart').getContext('2d');
        const ordersChart = new Chart(ordersCtx, {
            type: 'line',
            data: {
                labels: ['Sep 1', 'Sep 8', 'Sep 15', 'Sep 22', 'Sep 29'],
                datasets: [
                    {
                        label: 'Month to date (Sep 1 - 30, 2024)',
                        data: [5, 8, 7, 10, 6],
                        borderColor: 'blue',
                        fill: false,
                        tension: 0  // Sharp lines
                    },
                    {
                        label: 'Previous year (Sep 1 - 30, 2023)',
                        data: [3, 6, 5, 8, 7],
                        borderColor: 'green',
                        fill: false,
                        tension: 0  // Sharp lines
                    }
                ]
            },
            options: {
                scales: {
                    y: {
                        beginAtZero: true,
                        title: {
                            display: true,
                            text: 'Orders'
                        }
                    },
                    x: {
                        title: {
                            display: true,
                            text: 'Date'
                        }
                    }
                }
            }
        });
    </script>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>

    {% endblock %}