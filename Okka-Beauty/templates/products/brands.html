{% extends 'base/base.html' %} {% load static %}{% block title %}my webpage{% endblock %} {% block body %} {% load static %}

   
    <div class="container  ">
        <h4  class="brands-main-header py-4">BRANDS NAME</h4> 
        <div class="row brands-caontainer ">
            <div >
                <ul class="brands-alphabets ">
                    {% for initial, brands_chunk in grouped_brands.items %}
                    <li><a class="btn brands-alpha-names" href="#{{ initial }}">{{ initial }}</a></li>
                    {% endfor %}
                </ul>
            </div>
        </div>

    </div>
    <div class="container pt-5">
        <div class="row brands-a-to-z d-flex">
            {% for initial, brands_chunk in grouped_brands.items %}
                <div class="col-md-3 col-12 col-sm-6 brands-from-a">
                    <h3 class="brands-alpha-head" id="{{ initial }}">{{ initial }}</h3>
                    <ul class="brands-alpha-sublinks">
                        {% for brand in brands_chunk %}
                            <li><a href="{% url 'product-brand' brand.slug %}">{{ brand.name }}</a></li> 
                        {% endfor %}
                    </ul>
                </div>
            {% endfor %}
            </div>
    </div>



{% endblock %}







<!-- from django.http import JsonResponse
from django.template.loader import render_to_string
from django.shortcuts import render
from .models import Product, ParentCategory

def product_list(request):
    product_count = request.GET.get('count')
    sort_values = request.GET.get('sort_value')  # Adjust to match query parameter

    try:
        category = ParentCategory.objects.get(name='accessories')
    except ParentCategory.DoesNotExist:
        category = None

    if category:
        products = Product.objects.filter(categories=category)
    else:
        products = Product.objects.all()

    if sort_values == 'Low to High':
        products = products.order_by('regular_price')
    elif sort_values == 'High to Low':
        products = products.order_by('-regular_price')
    elif sort_values == 'Alphabetical':
        products = products.order_by('name')
    elif sort_values == 'Popularity':
        products = products.order_by('-popularity')  # Assuming there's a popularity field
    elif sort_values == 'average rating':
        products = products.order_by('-average_rating')  # Assuming there's an average_rating field
    elif sort_values == 'latest':
        products = products.order_by('-created_at')  # Assuming there's a created_at field

    if product_count:
        try:
            product_count = int(product_count)
            products = products[:product_count]
        except ValueError:
            pass

    if request.headers.get('x-requested-with') == 'XMLHttpRequest':
        html = render_to_string('products/product_list_partial.html', {'products': products})
        return JsonResponse({'html': html})

    context = {
        'products': products,
        'selected_count': product_count,
        'sort_values': sort_values,
    }
    return render(request, 'products/product_list.html', context) -->
    <!-- <script>
        function updateProductLists(count, sort_value) {
          axios.get(`/product_list/?count=${count}&sort_value=${sort_value}`, {  // Adjust query parameter name
            headers: {
              'X-Requested-With': 'XMLHttpRequest'
            }
          })
            .then(function (response) {
              document.querySelector('.grid-display-row').innerHTML = response.data.html;
              
              // Update active class for the sort options
              let showLinks = document.querySelectorAll('.show-product-images');
              showLinks.forEach(function (link) {
                if (link.href.includes(`count=${count}`) && link.href.includes(`sort_value=${sort_value}`)) {
                  link.classList.add('active');
                } else {
                  link.classList.remove('active');
                }
              });
            })
            .catch(function (error) {
              console.error('Error fetching product list:', error);
            });
        } 
      </script>
       -->
<!-- 
       <!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Product List</title>
    <link rel="stylesheet" href="styles.css"> 
    <script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>
</head>
<body>
    <div class="container">
        <header>
            <h1>Product List</h1>
        </header>
        
        <nav>
            <ul>
                <li><a href="#" onclick="updateProductLists(10, 'Low to High'); return false;">Sort by Low to High</a></li>
                <li><a href="#" onclick="updateProductLists(10, 'High to Low'); return false;">Sort by High to Low</a></li>
                <li><a href="#" onclick="updateProductLists(10, 'Alphabetical'); return false;">Sort Alphabetically</a></li>
                <li><a href="#" onclick="updateProductLists(10, 'Popularity'); return false;">Sort by Popularity</a></li>
                <li><a href="#" onclick="updateProductLists(10, 'average rating'); return false;">Sort by Average Rating</a></li>
                <li><a href="#" onclick="updateProductLists(10, 'latest'); return false;">Sort by Latest</a></li>
            </ul>
        </nav>
        
        <main>
            <div class="grid-display-row">
                <!-- Product list will be dynamically loaded here -->
                <!-- Initial content can be here or loaded via AJAX -->
            </div>
        </main>
        
        <footer>
            <p>&copy; 2024 Your Company</p>
        </footer>
    </div>
 -->
